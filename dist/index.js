module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements||[]},this.setDropPostion=function(e){t.dropPosition=e},this.getDropPostion=function(){return t.dropPosition},this.error=console.error,this.log=console.log};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(18)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),i=(r=a)&&r.__esModule?r:{default:r};var l=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n=["id","type","name","payload","dropzoneID","parentID"];t.tree=[{id:"root",fields:[]}];var r=function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.tree,a=o.find(function(e){return e.id===r});if(!a)for(var i=0;i<o.length;i++){var l=o[i];if(l.fields){var s=e(n,r,l.fields);if(s)return s}}return a},a=function(e,t,n){var o=r(t,n);return o?o.fields.find(function(t){return t.id===e}):null},l=function(e,t){var r={};return e?(Object.keys(e).forEach(function(o){"function"!=typeof e[o]&&(t||!t&&-1!==n.indexOf(o))&&(r[o]=e[o])}),r):null},s=function(){return l(a.apply(void 0,arguments))};this.updateState=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments[4];!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),l=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var s=[];i.fields.filter(function(e){return e.dropzoneID===n}).length!==o.length?i.fields=o.concat(i.fields.filter(function(e){return e.dropzoneID!==n})):(o.forEach(function(e){-1===i.fields.findIndex(function(t){return t.id===e.id})&&s.push(e)}),s.length||(i.fields=i.fields.map(function(e){return o.find(function(t){return t.id===e.id})||e}))),s.length&&(i.fields=i.fields.concat(s))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;l=!0}else for(var u=0;u<a.length;u++){var f=a[u].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return l}(e,n,r),o(t.tree),i.default.notifyStateChange(),a&&i.default.notifyElementRemove({dropzoneID:e,parentID:n,dispatchElementRemove:a,trashed:!0})},this.getElementParent=r,this.getElement=s,this.removeElement=function(e,t,n,r){var o=a(e,t,n);return!!o&&(o.removeElement(e,r),i.default.notifyElementRemove({elementID:e,dropzoneID:t,parentID:n,trashed:!1}),!0)},this.updateElement=function(e,t,n,r,l){var u=a(e,t,n);return!!u&&(u.updateElement(o({},r,{id:e}),l),i.default.notifyElementUpdate(s(e,t,n)),!0)},this.traverseAndReturnElement=a,this.getState=function(){return t.tree},this.getStorableState=function(){return t.tree[0].fields.map(function(e){return function e(t){var n=[],r=l(t,!0);return t.fields&&t.fields.length&&t.fields.forEach(function(t){n.push(e(t))}),n.length&&(r.initialElements=[],r.fields=[],n.forEach(function(e){r.initialElements.push(e),r.fields.push(e)})),r}(e)})},this.clearState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=t.tree[0],r=n.fields.length;return n.fields.length||(i.default.notifyStateFlush(),e()),n.fields.forEach(function(t,n){t.flushDroppedElements(function(){n===r-1&&(i.default.notifyStateFlush(!0),e())})}),!0},this.addEventListener=i.default.addEventListener,this.removeEventListener=i.default.removeEventListener};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),l=f(n(2)),s=f(n(3)),u=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[],initDone:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props,o=n.capacity,a=n.id,l=n.placeholder,s=!o||o>t.length;return i.default.createElement("div",{ref:this.canvasRef,className:(s?"":"no-space")+" "+("root"===a?"canvas":"")+" "+(t.length?"":"empty")+" dropzone",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t,n){return e._renderDragItem(r({},t,{index:n,spaceAvailable:s,initDone:e.state.initDone,dropzoneProps:{initDone:e.state.initDone,parentID:t.id}}))}),t.length?null:i.default.createElement("p",{className:"dropzone-placeholder"},l))}}]),t}(),p=function(){var e=this;this.dangerouslySetElements=function(t,n){var o=[];o="function"==typeof t?t(e.state.droppedElements)||[]:t;var a=e.props,i=a.id,l=a.parentID;o=o.map(function(t){return r({},t,{dropzoneID:i,parentID:l,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,updateElement:e._updateElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})}),e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(n)})},this._unmarkDragElements=function(){[].forEach.call(e.canvasRef.current.querySelectorAll(".drag-item"),function(e){return e.classList.remove("before","after")})},this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initDone&&!e.state.initialElements.length){var n=e.props,o=n.id,a=n.parentID,i=t.map(function(t){return r({},t,{key:t.id,dropzoneID:o,parentID:a,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,updateElement:e._updateElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:i,droppedElements:i},function(){return e._updateState(function(){e.setState({initDone:!0})})})}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments[2],o=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==o})},function(){return e._updateState(n,r?t:null)})},this._updateElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(-1===e.state.droppedElements.findIndex(function(e){return e.id===t.id}))return n(null);var o=["name","type","payload"],a={};return Object.keys(t).forEach(function(e){-1!==o.indexOf(e)&&(a[e]=t[e])}),e.setState({droppedElements:e.state.droppedElements.map(function(e){return e.id===t.id?r({},e,a):e})},function(){return e._updateState(n)}),!0},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1],r=e.props,o=r.id,a=r.parentID;s.default.updateState(o,a,e.state.droppedElements,t,n)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({initialElements:[],droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=u.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!u.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault(),e.stopPropagation()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),u.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),u.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation();var n=e.state.droppedElements;u.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var o=e.props.onDrop,a=JSON.parse(t.dataTransfer.getData("data"));return a=r({},a),e._unmarkDragElements(),o?o(a,e._addElement,{dropIndex:n.length?0:u.default.getDropPostion()+1,currentElements:n}):e._addElement(a)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=n.parentID,l=n.allowHorizontal,f=u.default.getDropPostion(),d=u.default.getDraggedElement(),p=!t||!t.id,m=-1,h=t.id&&e.state.droppedElements.filter(function(e,n){return e.id===t.id&&(m=n,!0)}).length,v=m===f,g=[].concat(e.state.droppedElements),b=!1;if(p||h){if(v)return u.default.error("Duplicate or invalid ID");b=!0,g=g.map(function(e){return e.id===t.id?r({},e,{remove:!0}):e})}var y=null;if(t.dropzoneID&&t.parentID){var E=s.default.traverseAndReturnElement(t.id,t.dropzoneID,t.parentID);!function e(t){t.forEach(function(t){t.fields&&(t.initialElements=t.fields,e(t.fields))})}(y=E&&E.fields||[])}var _=r({},t,{key:t.id,dropzoneID:o,parentID:i,allowHorizontal:l,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,updateElement:e._updateElement,initialElements:y||e.state.initialElements,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement});return g=f>0?[].concat(c(g.slice(0,f)),[_],c(g.slice(f))):[_].concat(c(g)),v||(g=g.filter(function(e){return!e.remove})),a&&g.length>a?u.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:g},function(){!b&&d&&"function"==typeof d.checkAndRemoveElement&&d.checkAndRemoveElement(),e._updateState()}),e.canvasRef.current.classList.add("dropping"),setTimeout(function(){e.canvasRef.current&&e.canvasRef.current.classList.remove("dropping")},500),{dropzoneID:o,elements:g})},this._renderDragItem=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};d.propTypes={id:l.default.string.isRequired,capacity:l.default.number,onDrop:l.default.func,onElementMove:l.default.func,allowHorizontal:l.default.bool,initialElements:l.default.arrayOf(Object),parentID:l.default.string.isRequired,placeholder:l.default.oneOfType([l.default.string,l.default.node])},d.defaultProps={initialElements:[],placeholder:"Drop Here",onElementMove:function(){return!0}},t.default=d},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,u=0,f=[],c=n(5);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var l=[];for(i=0;i<r.parts.length;i++)l.push(b(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:l}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(l):n.push(r[i]={id:i,parts:[l]})}return n}function m(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),m(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;n=s||(s=v(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),m(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(l=a[i.id]).refs--,r.push(l)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var l;if(0===(l=r[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* Very basic style */\n\n/* Prevent the text contents of draggable elements from being selectable. */\n[draggable] {\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n\n  /* Required to make elements draggable in old WebKit */\n  -khtml-user-drag: element;\n  -webkit-user-drag: element;\n}\n\n/* class gets appended to canvas when user dragging over on it */\n.inside {\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\n  box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\n}\n\n.trash-box.inside,\n.dropzone.inside.no-space {\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.5);\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\n  box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\n}\n\n.dropzone {\n  width: 100%;\n  padding: 10px;\n  position: relative;\n  box-sizing: border-box;\n  background: #f0faff;\n  border: 1px solid #0277bd;\n}\n\n.dropzone.empty {\n  padding: 40px;\n}\n\n.palette {\n  padding: 10px;\n  background: #fff;\n  box-sizing: border-box;\n  border: 1px solid #01579b;\n}\n\n.drag-item {\n  padding: 10px;\n  color: #01579b;\n  box-sizing: border-box;\n  background-color: #b3e5fc;\n  border: 1px solid #01579b;\n}\n\n.inline.drag-item {\n  margin: 0 10px;\n  display: inline-block;\n}\n\n.dropzone-placeholder {\n  width: 100%;\n  color: #01579b;\n  text-align: center;\n  position: absolute;\n  left: 0;\n  top: calc(50% - 10px);\n  animation-name: changeColor;\n  animation-duration: 2s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n}\n\n@keyframes changeColor {\n  25% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  75% {\n    transform: scale(1);\n    opacity: 0.5;\n  }\n}\n\n.palette-wrapper .drag-item {\n  color: #fff;\n  background-color: #01579b;\n}\n\n.drag-item + div {\n  margin-top: 10px;\n}\n\n.drag-item.after,\n.drag-item.before {\n  position: relative;\n}\n\n.drag-item.after::after {\n  content: '';\n  position: absolute;\n  width: 50%;\n  height: 1px;\n  background: #14b451;\n  left: 50%;\n  bottom: -1px;\n  border-radius: 50%;\n  transform: translate(-50%, 0);\n  -webkit-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\n  -moz-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\n  box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\n}\n\n.drag-item.before::before {\n  content: '';\n  position: absolute;\n  width: 50%;\n  height: 1px;\n  background: #14b451;\n  left: 50%;\n  top: -1px;\n  border-radius: 50%;\n  transform: translate(-50%, 0);\n  -webkit-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\n  -moz-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\n  box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\n}\n\n.inline.drag-item.before::before {\n  width: 1px;\n  height: 50%;\n  left: -1px;\n  right: unset;\n  top: 50%;\n  transform: translate(0, -50%);\n}\n\n.inline.drag-item.after::after {\n  width: 1px;\n  height: 50%;\n  right: -1px;\n  left: unset;\n  top: unset;\n  transform: translate(0, -50%);\n}\n\n.trash-box {\n  padding: 30px 10px;\n  margin: 10px 0;\n  color: #b71c1c;\n  background: #ffcdd2;\n  text-align: center;\n  border: 1px solid #b71c1c;\n}\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),i=u(n(2)),l=u(n(0)),s=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onStateChange=function(e){n.setState({currentState:e})},n._renderElementInPreviewMode=function(e){var t={},o=n.registeredPaletteElements.find(function(t){return t.type===e.type});return Array.isArray(e.fields)&&e.fields.forEach(function(e){t[e.dropzoneID]=t[e.dropzoneID]||[],t[e.dropzoneID]=t[e.dropzoneID].concat(n._renderElementInPreviewMode(e))}),a.default.createElement(o.component,r({id:e.id,key:e.id,childNode:t},r({},e,{showPreview:!0,showBasicContent:!1})))},n.state={currentState:s.default.getState()},n.registeredPaletteElements=l.default.getRegisteredPaletteElements(),s.default.addEventListener(n._onStateChange),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.state.currentState[0];return"function"==typeof this.props.children?this.props.children({children:e.fields.map(this._renderElementInPreviewMode)}):a.default.createElement("div",{className:"preview-container"},e.fields.map(this._renderElementInPreviewMode))}}]),t}();f.propTypes={children:i.default.func},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=s(o),i=s(n(2)),l=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=l.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,s=o(t);return n._manageInsideClass(e,"remove"),s&&l.default.getAttemptToRemove()&&(i(t.elementID,function(){a()},!0),l.default.setDraggedElement(null)),l.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){l.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();u.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},u.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),l=u(n(2)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=s.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:l.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),l=u(n(2)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dragEnd=function(e){e.stopPropagation(),n.dragElemRef.current.classList.remove("before","after"),s.default.setDraggedElement(null)},n._dragStart=function(e){e.stopPropagation();var t=n.props,r=t.id,o=t.type,a=t.name,i=t.fields,l=t.payload,u=t.parentID,f=t.dropzoneID,c=t.removeElement,d=t.checkAndRemoveElement,p={id:r,type:o,name:a,payload:l,parentID:u,dropzoneID:f};i&&(p.fields=i),e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(p)),f&&s.default.setDraggedElement({elementID:r,dropzoneID:f,removeElement:c,checkAndRemoveElement:d})},n._onDragOver=function(e){var t=n.dragElemRef.current.getBoundingClientRect();if(!n.props.spaceAvailable)return!1;if(n.props.allowHorizontal){var r=e.clientX;if(r>=t.x&&r<=t.x+t.width)r<t.x+t.width/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),s.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),s.default.setDropPostion(n.props.index+1))}else{var o=e.clientY;if(o>=t.y&&o<=t.y+t.height)o<t.y+t.height/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),s.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),s.default.setDropPostion(n.props.index+1))}return!0},n._onDragLeave=function(){n.dragElemRef.current.classList.remove("before","after")},n.dragElemRef=i.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initDone!==e.initDone&&e.initDone&&this.props.updateState()}},{key:"render",value:function(){var e=this.props,t=e.elementProps,n=e.draggable,o=e.allowHorizontal,a=null;return this.props.dropzoneID&&(a={onDragOver:this._onDragOver,onDragLeave:this._onDragLeave}),n&&(a=r({},a,{draggable:!0})),i.default.createElement("div",r({ref:this.dragElemRef,className:"drag-item "+(o?"inline":""),onDragStart:this._dragStart,onDragEnd:this._dragEnd},t,a),this.props.children)}}]),t}();f.propTypes={id:l.default.string.isRequired,name:l.default.string,initDone:l.default.bool,index:l.default.number,allowHorizontal:l.default.bool,fields:l.default.instanceOf(Array),draggable:l.default.bool,spaceAvailable:l.default.bool,updateState:l.default.func,dropzoneID:l.default.string,parentID:l.default.string,payload:l.default.instanceOf(Object),elementProps:l.default.instanceOf(Object),type:l.default.string.isRequired,children:l.default.oneOfType([l.default.arrayOf(l.default.element),l.default.element]).isRequired,removeElement:l.default.func,checkAndRemoveElement:l.default.func},f.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null,draggable:!0,updateState:function(){return!0}},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var i=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notifyStateChange=function(){t.event.change.forEach(function(e){return e(o.default.getState())})},this.notifyStateFlush=function(e){e&&t.notifyStateChange(),t.event.flush.forEach(function(e){return e(!0)})},this.notifyElementUpdate=function(e){t.event.updateElement.forEach(function(t){return t(e)})},this.notifyElementRemove=function(e){t.event.removeElement.forEach(function(t){return t(e)})},this.addEventListener=function(e,n){var o=null;return"function"!=typeof n?(r.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(t.event,e)?(t.event[e].push(n),o=n):r.default.error("No such event"),o)},this.removeEventListener=function(e,n){Object.prototype.hasOwnProperty.call(t.event,e)?t.event[e]=t.event[e].filter(function(e){return e!==n}):r.default.error("No such event")},this.event={change:[],flush:[],removeElement:[],updateElement:[]}};t.default=i},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,l,s){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,l,s],c=0;(u=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(17),o=n(16),a=n(15);e.exports=function(){function e(e,t,n,r,i,l){l!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root",initDone:!0})))}},function(e,t,n){"use strict";var r=c(n(19)),o=c(n(4)),a=c(n(13)),i=c(n(12)),l=c(n(11)),s=c(n(10)),u=c(n(3)),f=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:l.default,Preview:s.default,state:u.default,core:f.default,registerPaletteElements:f.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L1ByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhc2gvVHJhc2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGFsZXR0ZS9QYWxldHRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZS9EcmFnZ2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb3JlIiwiQ29yZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJnZXRBdHRlbXB0VG9SZW1vdmUiLCJhdHRlbXB0VG9SZW1vdmUiLCJzZXRBdHRlbXB0VG9SZW1vdmUiLCJzdGF0dXMiLCJzZXREcmFnZ2VkRWxlbWVudCIsImRyYWdnZWRFbGVtZW50IiwiZ2V0RHJhZ2dlZEVsZW1lbnQiLCJyZWdpc3RlclBhbGV0dGVFbGVtZW50cyIsInJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJnZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIiwic2V0RHJvcFBvc3Rpb24iLCJkcm9wUG9zaXRpb24iLCJnZXREcm9wUG9zdGlvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlcXVpcmUiLCJfZXZlbnQiLCJzdGF0ZSIsIlN0YXRlIiwic2hhcmVhYmxlRWxlbWVudFByb3BzIiwidHJlZSIsImlkIiwiZmllbGRzIiwidHJhdmVyc2VBbmRSZXR1cm5QYXJlbnQiLCJkcm9wem9uZUlEIiwicGFyZW50SUQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmb3VuZFBhcmVudCIsImZpbmQiLCJlbGVtZW50IiwidHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50IiwiZWxlbWVudElEIiwiZmllbGRQYXJlbnQiLCJmaWVsZCIsInJlbW92ZVNlbnNpdGl2ZVByb3BzIiwib25seVJlbW92ZUZ1bmN0aW9ucyIsInNoYXJlYWJsZUVsZW1lbnQiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImluZGV4T2YiLCJnZXRFbGVtZW50IiwidXBkYXRlU3RhdGUiLCJjYiIsImRpc3BhdGNoRWxlbWVudFJlbW92ZSIsInRyYXZlcnNlQW5kVXBkYXRlVHJlZSIsInVwZGF0ZWRGaWVsZHMiLCJtYXRjaGVkUGFyZW50Q2FudmFzIiwicmV0dXJuU3RhdHVzIiwiZmllbGRzVG9CZUFkZGVkIiwiZmlsdGVyIiwiZiIsImNvbmNhdCIsInVGaWVsZCIsImZpbmRJbmRleCIsInB1c2giLCJtYXAiLCJ1ZiIsImNoaWxkRmllbGRzIiwiX2V2ZW50MiIsImRlZmF1bHQiLCJub3RpZnlTdGF0ZUNoYW5nZSIsIm5vdGlmeUVsZW1lbnRSZW1vdmUiLCJ0cmFzaGVkIiwiZ2V0RWxlbWVudFBhcmVudCIsInJlbW92ZUVsZW1lbnQiLCJ1cGRhdGVFbGVtZW50IiwibmV3RGF0YSIsIl9leHRlbmRzIiwibm90aWZ5RWxlbWVudFVwZGF0ZSIsImdldFN0YXRlIiwiZ2V0U3RvcmFibGVTdGF0ZSIsInRyYXZlcnNlQW5kVGFrZVNuYXBzaG90Iiwic3ViRmllbGRzIiwibmVjZXNzYXJ5RGV0YWlscyIsImluaXRpYWxFbGVtZW50cyIsInNmIiwiY2xlYXJTdGF0ZSIsInJvb3ROb2RlIiwidG9wTGV2ZWxGaWVsZHMiLCJub3RpZnlTdGF0ZUZsdXNoIiwidG9wTGV2ZWxFbGVtZW50IiwiZmx1c2hEcm9wcGVkRWxlbWVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9yZWFjdCIsIkRyb3B6b25lIiwicHJvcHMiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJfaW5pdGlhbGlzZVByb3BzIiwiY2FudmFzUmVmIiwiX3JlYWN0MiIsImNyZWF0ZVJlZiIsImRyb3BwZWRFbGVtZW50cyIsImluaXREb25lIiwiX3NldEluaXRpYWxFbGVtZW50cyIsIl9yZWYiLCJfdGhpczIiLCJfcHJvcHMiLCJjYXBhY2l0eSIsInBsYWNlaG9sZGVyIiwic3BhY2VBdmFpbGFibGUiLCJjcmVhdGVFbGVtZW50IiwicmVmIiwiY2xhc3NOYW1lIiwib25EcmFnT3ZlciIsIl9vbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJfb25EcmFnTGVhdmUiLCJvbkRyYWdFbnRlciIsIl9vbkRyYWdFbnRlciIsIm9uRHJvcCIsIl9vbkRyb3AiLCJvbkRyYWdFbmQiLCJfb25EcmFnRW5kIiwiZSIsIl9yZW5kZXJEcmFnSXRlbSIsImluZGV4IiwiZHJvcHpvbmVQcm9wcyIsImRhbmdlcm91c2x5U2V0RWxlbWVudHMiLCJkYXRhIiwiZG9uZSIsImVsZW1lbnRzIiwiX3RoaXMzIiwiX3Byb3BzMiIsInNob3dCYXNpY0NvbnRlbnQiLCJfdXBkYXRlU3RhdGUiLCJfcmVtb3ZlRWxlbWVudCIsIl91cGRhdGVFbGVtZW50IiwiX2ZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiY2hlY2tBbmRSZW1vdmVFbGVtZW50IiwiX2NoZWNrQW5kUmVtb3ZlRWxlbWVudCIsInNldFN0YXRlIiwiX3VubWFya0RyYWdFbGVtZW50cyIsImN1cnJlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Byb3BzMyIsInVwZGF0ZWRJbml0aWFsSXRlbXMiLCJfbWFuYWdlSW5zaWRlQ2xhc3MiLCJfcmVmMiIsImFjdGlvbiIsInRhcmdldCIsInN1cHBvcnRlZEtleXMiLCJuZXdFbGVtZW50RGF0YSIsIl9wcm9wczQiLCJfc3RhdGUyIiwiZWxlbWVudE1vdmVkIiwiX2NvcmUyIiwib25FbGVtZW50TW92ZSIsImF0dGVtcHRUb01vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkpTT04iLCJwYXJzZSIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJfYWRkRWxlbWVudCIsImRyb3BJbmRleCIsImN1cnJlbnRFbGVtZW50cyIsInVwZGF0ZWREYXRhIiwiX3Byb3BzNSIsImFsbG93SG9yaXpvbnRhbCIsImludmFsaWRVcGRhdGVkRGF0YSIsImluZGV4T2ZQcmVzZW50RWxlbWVudCIsImtleUFscmVhZHlQcmVzZW50IiwiaXNTYW1lSW5kZXgiLCJuZXdFbGVtZW50cyIsImVsZW1lbnRBbHJlYWR5UmVtb3ZlZCIsImluaXRpYWxFbGVtZW50c1RvQmluZCIsIm9sZENvcHkiLCJhc3NpZ25Jbml0aWFsRWxlbWVudHMiLCJsaXN0IiwiZWxlbWVudFRvRHJvcCIsInNsaWNlIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYWRkIiwic2V0VGltZW91dCIsInR5cGUiLCJjb21wb25lbnQiLCJwcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJudW1iZXIiLCJmdW5jIiwiYm9vbCIsImFycmF5T2YiLCJvbmVPZlR5cGUiLCJub2RlIiwiZGVmYXVsdFByb3BzIiwiY3NzIiwibG9jYXRpb24iLCJ3aW5kb3ciLCJFcnJvciIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJzdHJpbmdpZnkiLCJmbiIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJhcHBseSIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwib3B0aW9ucyIsIml0ZW0iLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwibWVkaWEiLCJzb3VyY2VNYXAiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsImFkZEF0dHJzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiUHJldmlldyIsIl9vblN0YXRlQ2hhbmdlIiwibmV3U3RhdGUiLCJjdXJyZW50U3RhdGUiLCJfcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUiLCJjaGlsZHJlbiIsImVsZW1lbnREYXRhIiwiY2hpbGROb2RlIiwic2hvd1ByZXZpZXciLCJDb21wb25lbnQiLCJyb290IiwiVHJhc2giLCJ0cmFzaFJlZiIsImVsZW1lbnRUb0JlVHJhc2hlZCIsIl90aGlzJHByb3BzIiwib25CZWZvcmVUcmFzaCIsIm9uQWZ0ZXJUcmFzaCIsIlBhbGV0dGUiLCJfcmVuZGVyTGlzdCIsInBhbGV0dGVFbGVtZW50cyIsInByb3BWYWx1ZSIsImlzRXJyb3IiLCJEcmFnZ2FibGUiLCJfZHJhZ0VuZCIsImRyYWdFbGVtUmVmIiwiX2RyYWdTdGFydCIsInBheWxvYWQiLCJlZmZlY3RBbGxvd2VkIiwic2V0RGF0YSIsImVsZW1Db3JkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZHJhZ0VsZW1YIiwiY2xpZW50WCIsIngiLCJ3aWR0aCIsImRyYWdFbGVtWSIsImNsaWVudFkiLCJ5IiwiaGVpZ2h0IiwibmV4dFByb3BzIiwiZWxlbWVudFByb3BzIiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJpbnN0YW5jZU9mIiwicnBtRXZlbnQiLCJScG1FdmVudCIsImV2ZW50IiwiY2hhbmdlIiwidHJpZ2dlckNoYW5nZSIsImZsdXNoIiwiZXZlbnROYW1lIiwicmV0dXJuQ0IiLCJ2YWxpZGF0ZUZvcm1hdCIsImZvcm1hdCIsImNvbmRpdGlvbiIsImEiLCJiIiwiYXJncyIsImFyZ0luZGV4IiwiZnJhbWVzVG9Qb3AiLCJtYWtlRW1wdHlGdW5jdGlvbiIsImFyZyIsImVtcHR5RnVuY3Rpb24iLCJ0aGF0UmV0dXJucyIsInRoYXRSZXR1cm5zRmFsc2UiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc051bGwiLCJ0aGF0UmV0dXJuc1RoaXMiLCJ0aGF0UmV0dXJuc0FyZ3VtZW50IiwiaW52YXJpYW50IiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJzaGltIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwiYXJyYXkiLCJzeW1ib2wiLCJhbnkiLCJvYmplY3RPZiIsIm9uZU9mIiwic2hhcGUiLCJleGFjdCIsImNoZWNrUHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiX0Ryb3B6b25lMiIsIkNhbnZhcyJdLCJtYXBwaW5ncyI6IjJCQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUEyQ0EsT0F0Q0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFF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dmEsRUFBQSxJQUVBRyxFQUFBRCxRQUFBLFdBQ0EsU0FBQXNhLEVBQUE3UyxFQUFBOFMsRUFBQUMsRUFBQWhNLEVBQUFpTSxFQUFBQyxHQUNBQSxJQUFBTCxHQUlBRCxHQUNBLEVBQ0EsbUxBTUEsU0FBQU8sSUFDQSxPQUFBTCxFQUZBQSxFQUFBdk0sV0FBQXVNLEVBTUEsSUFBQU0sR0FDQUMsTUFBQVAsRUFDQXBNLEtBQUFvTSxFQUNBck0sS0FBQXFNLEVBQ0F0TSxPQUFBc00sRUFDQWpaLE9BQUFpWixFQUNBeE0sT0FBQXdNLEVBQ0FRLE9BQUFSLEVBRUFTLElBQUFULEVBQ0FuTSxRQUFBd00sRUFDQTVXLFFBQUF1VyxFQUNBNUIsV0FBQWlDLEVBQ0F0TSxLQUFBaU0sRUFDQVUsU0FBQUwsRUFDQU0sTUFBQU4sRUFDQXZNLFVBQUF1TSxFQUNBTyxNQUFBUCxFQUNBUSxNQUFBUixHQU1BLE9BSEFDLEVBQUFRLGVBQUF2QixFQUNBZSxFQUFBUyxVQUFBVCxFQUVBQSw4UEN4REE5YSxFQUFBLFFBRUFBLEVBQUEsaUVBS2UsU0FBQTJILEdBQUEsT0FDYk8sRUFBQWxDLFFBQUE2QyxjQUFBLE9BQUtFLFVBQVUsZUFDYmIsRUFBQWxDLFFBQUE2QyxjQUFBMlMsRUFBQXhWLFFBQUFRLEtBQWNtQixHQUFPaEUsU0FBUyxPQUFPSixHQUFHLE9BQU84RSxVQUFBLHFDQ1JuRCxRQUFBckksRUFBQSxTQUNBQSxFQUFBLFFBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FHQUEsRUFBQSxRQUNBQSxFQUFBLHVEQUdBQSxFQUFBLEdBRUFHLEVBQU9ELFNBRUx1YixpQkFDQS9ULG1CQUNBNlAsb0JBQ0FMLGtCQUNBTixnQkFDQVgsa0JBR0E5UyxnQkFDQXRCLGVBR0FXLHdCQUF5QnNKLEVBQUE5RixRQUFLeEQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIwKTtcbiIsImNsYXNzIENvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBtYWluIG9iamVjdC9zdG9yZVxuICAgIGNvbnN0IGNvcmUgPSB7fTtcblxuICAgIC8vIGFsbCBwdWJsaWMgZ2V0dGVyL3NldHRlciBnb2VzIGhlcmVcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIGdldCBhdHRlbXB0VG9SZW1vdmVcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYXR0ZW1wdFRvUmVtb3ZlXG4gICAgICovXG4gICAgdGhpcy5nZXRBdHRlbXB0VG9SZW1vdmUgPSAoKSA9PiAoY29yZS5hdHRlbXB0VG9SZW1vdmUpO1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IHVzZXIncyBhdHRlbXB0IHRvIHJlbW92ZSB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhdHVzXG4gICAgICovXG4gICAgdGhpcy5zZXRBdHRlbXB0VG9SZW1vdmUgPSAoc3RhdHVzKSA9PiB7XG4gICAgICBjb3JlLmF0dGVtcHRUb1JlbW92ZSA9IHN0YXR1cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IGRyYWdnZWQgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkcmFnZ2VkRWxlbWVudFxuICAgICAqL1xuICAgIHRoaXMuc2V0RHJhZ2dlZEVsZW1lbnQgPSAoZHJhZ2dlZEVsZW1lbnQpID0+IHtcbiAgICAgIGNvcmUuZHJhZ2dlZEVsZW1lbnQgPSBkcmFnZ2VkRWxlbWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGRyYWdnZWQgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5nZXREcmFnZ2VkRWxlbWVudCA9ICgpID0+IChjb3JlLmRyYWdnZWRFbGVtZW50KTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyIHBhbGV0dGUgZWxlbWVudHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSByZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIC0gcGFsZXR0ZSBlbGVtZW50c1xuICAgICAqL1xuICAgIHRoaXMucmVnaXN0ZXJQYWxldHRlRWxlbWVudHMgPSAocmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cykgPT4ge1xuICAgICAgY29yZS5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzID0gcmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIHJlZ2lzdGVyZWQgcGFsZXR0ZSBlbGVtZW50c1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBhcnJheSBvZiBwYWxldHRlIGVsZW1lbnRzXG4gICAgICovXG4gICAgdGhpcy5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzID0gKCkgPT4gKGNvcmUucmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyB8fCBbXSk7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBzZXQgZHJvcCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkcm9wUG9zaXRpb25cbiAgICAgKi9cbiAgICB0aGlzLnNldERyb3BQb3N0aW9uID0gKGRyb3BQb3NpdGlvbikgPT4ge1xuICAgICAgY29yZS5kcm9wUG9zaXRpb24gPSBkcm9wUG9zaXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBkcm9wIHBvc2l0aW9uXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmdldERyb3BQb3N0aW9uID0gKCkgPT4gKGNvcmUuZHJvcFBvc2l0aW9uKTtcblxuICAgIC8qIGVzbGludCBuby1jb25zb2xlOjAgKi9cblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIGdpdmUgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gYW55IG1lc3NhZ2UgdG8gYmUgcHJpbnRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVycm9yID0gY29uc29sZS5lcnJvcjtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIGxvZyBhIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSAtIGFueSBtZXNzYWdlIHRvIGJlIHByaW50XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5sb2cgPSBjb25zb2xlLmxvZztcbiAgfVxufVxuXG5jb25zdCBjb3JlID0gbmV3IENvcmUoKTtcblxuZXhwb3J0IGRlZmF1bHQgY29yZTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsImltcG9ydCBycG1FdmVudCBmcm9tICcuL2V2ZW50JztcblxuY2xhc3MgU3RhdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBhbGwgcHJpdmF0ZSB2YXJpYmFsZSBnb2VzIGhlcmVcbiAgICBjb25zdCBzdGF0ZSA9IHt9O1xuICAgIGNvbnN0IHNoYXJlYWJsZUVsZW1lbnRQcm9wcyA9IFsnaWQnLCAndHlwZScsICduYW1lJywgJ3BheWxvYWQnLCAnZHJvcHpvbmVJRCcsICdwYXJlbnRJRCddO1xuXG4gICAgLy8gc2V0IGJhc2VcbiAgICBzdGF0ZS50cmVlID0gW3tcbiAgICAgIGlkOiAncm9vdCcsXG4gICAgICBmaWVsZHM6IFtdXG4gICAgfV07XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyYXZlcnNlIHRocm91Z2ggZWFjaCBub2RlIGFuZCB1cGRhdGUgdGhlIGNvcnJlc3BvbmRpbmcgbm9kZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkcm9wem9uZUlEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudElEXG4gICAgICogQHBhcmFtIHtBcnJheX0gdXBkYXRlZEZpZWxkcyAtIG5ldyBmaWVsZHMvZWxlbWVudHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWVsZHMgLSBmaWVsZHMvZWxlbWVudHMgb2YgY3VycmVudCBjYW52YXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb25zdCB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUgPSAoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGZpZWxkcyA9IHN0YXRlLnRyZWUpID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoZWRQYXJlbnRDYW52YXMgPSBmaWVsZHMuZmluZChmaWVsZCA9PiBmaWVsZC5pZCA9PT0gcGFyZW50SUQpO1xuICAgICAgbGV0IHJldHVyblN0YXR1cyA9IGZhbHNlO1xuXG4gICAgICAvLyBmb3VuZCBlbGVtZW50XG4gICAgICBpZiAobWF0Y2hlZFBhcmVudENhbnZhcykge1xuICAgICAgICBpZiAoZHJvcHpvbmVJRCA9PT0gcGFyZW50SUQpIHtcbiAgICAgICAgICAvLyBmaXJzdCB0aW1lLCBjcmVhdGUgZmllbGRzXG4gICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzO1xuICAgICAgICB9IGVsc2UgaWYgKCFtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyB8fCAhdXBkYXRlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyB1c2VyIHRyaWVkIHRvIHJlbW92ZSBlbGVtZW50c1xuICAgICAgICAgIGlmIChkcm9wem9uZUlEICYmIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzKSB7XG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXG4gICAgICAgICAgICAgIC5maWx0ZXIoZiA9PiBmLmRyb3B6b25lSUQgIT09IGRyb3B6b25lSUQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBtYXRjaGVkIGNhbnZhcyBkb2VzIG5vdCBoYXMgc3VjaCBmaWVsZCwgY3JlYXRlIG9uZVxuICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBmaWVsZHNUb0JlQWRkZWQgPSBbXTtcblxuICAgICAgICAgIC8vIGlmIHVzZXIgd29ya2luZyBvbiBtdWx0aSBkcm9wem9uZSBmaWVsZFxuICAgICAgICAgIGNvbnN0IG1hdGNoZWREcm9wem9uZUZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXG4gICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEID09PSBkcm9wem9uZUlEKTtcblxuICAgICAgICAgIGlmIChtYXRjaGVkRHJvcHpvbmVGaWVsZHMubGVuZ3RoICE9PSB1cGRhdGVkRmllbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gc29tZSBvZiB0aGUgZmllbGQgZ290IGRlbGV0ZWQgZnJvbSBkcm9wem9uZVxuICAgICAgICAgICAgLy8gcmVwbGFjZSBhbGwgZmllbGRzIHdpdGggbmV3IGZpZWxkc1xuICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzXG4gICAgICAgICAgICAgIC5jb25jYXQobWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEICE9PSBkcm9wem9uZUlEKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRGaWVsZHMuZm9yRWFjaCgodUZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpZWxkSW5kZXggPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xuICAgICAgICAgICAgICAgIC5maW5kSW5kZXgoZiA9PiBmLmlkID09PSB1RmllbGQuaWQpO1xuXG4gICAgICAgICAgICAgIC8vIHVzZXIgdHJ5IHRvIGFkZCBuZXcgZmllbGRcbiAgICAgICAgICAgICAgaWYgKGZpZWxkSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZmllbGRzVG9CZUFkZGVkLnB1c2godUZpZWxkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIG5vIG5ldyBmaWVsZHNcbiAgICAgICAgICAgIGlmICghZmllbGRzVG9CZUFkZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBlaXRoZXIgdXNlciBoYXMgdXBkYXRlZCB0aGUgZmllbGQgb3IgY2hhbmdlZCB0aGUgb3JkZXJcbiAgICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xuICAgICAgICAgICAgICAgIC5tYXAoKGYpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVGID0gdXBkYXRlZEZpZWxkcy5maW5kKHVmID0+IHVmLmlkID09PSBmLmlkKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1RiB8fCBmO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGFkZCBuZXcgZmllbGQgdG8gZXhpc3RpbmcgYXJyYXlcbiAgICAgICAgICBpZiAoZmllbGRzVG9CZUFkZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcy5jb25jYXQoZmllbGRzVG9CZUFkZGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm5TdGF0dXMgPSB0cnVlO1xuXG4gICAgICAgIC8qIGVzbGludCBuby1lbHNlLXJldHVybjogMCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjaGlsZEZpZWxkcyA9IGZpZWxkc1tpXS5maWVsZHM7XG4gICAgICAgICAgbGV0IHN0YXR1cyA9IGZhbHNlO1xuXG4gICAgICAgICAgLy8gZmllbGQgaGFzIHN1Yi1maWVsZHMsIGNoZWNrIGluc2lkZSBzdWItZmllbGRzXG4gICAgICAgICAgaWYgKGNoaWxkRmllbGRzKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSB0cmF2ZXJzZUFuZFVwZGF0ZVRyZWUoZHJvcHpvbmVJRCwgcGFyZW50SUQsIHVwZGF0ZWRGaWVsZHMsIGNoaWxkRmllbGRzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldHVyblN0YXR1cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGVhY2ggbm9kZSBhbmQgcmV0dXJuIHRoZSBmaWVsZCBwYXJlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZHJvcHpvbmVJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRJRFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcyAtIGZpZWxkcy9lbGVtZW50cyBvZiBjdXJyZW50IGNhbnZhc1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IC0gUGFyZW50IGVsZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdCB0cmF2ZXJzZUFuZFJldHVyblBhcmVudCA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzID0gc3RhdGUudHJlZSkgPT4ge1xuICAgICAgY29uc3QgZm91bmRQYXJlbnQgPSBmaWVsZHMuZmluZChlbGVtZW50ID0+IGVsZW1lbnQuaWQgPT09IHBhcmVudElEKTtcblxuICAgICAgaWYgKCFmb3VuZFBhcmVudCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBmaWVsZHNbaV07XG4gICAgICAgICAgaWYgKGVsZW1lbnQuZmllbGRzKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB0cmF2ZXJzZUFuZFJldHVyblBhcmVudChkcm9wem9uZUlELCBwYXJlbnRJRCwgZWxlbWVudC5maWVsZHMpO1xuICAgICAgICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm91bmRQYXJlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGUgZnVuY3Rpb24gdG8gdHJhdmVyc2UgdGhyb3VnaCBlYWNoIG5vZGUgYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnRJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkcm9wem9uZUlEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudElEXG4gICAgICogQHJldHVybnMge0ZpZWxkL09iamVjdH1cbiAgICAgKi9cbiAgICBjb25zdCB0cmF2ZXJzZUFuZFJldHVybkVsZW1lbnQgPSAoZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCkgPT4ge1xuICAgICAgY29uc3QgZmllbGRQYXJlbnQgPSB0cmF2ZXJzZUFuZFJldHVyblBhcmVudChkcm9wem9uZUlELCBwYXJlbnRJRCk7XG4gICAgICBpZiAoZmllbGRQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkUGFyZW50LmZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkLmlkID09PSBlbGVtZW50SUQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byByZW1vdmUgdGhlIGZpZWxkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnRJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkcm9wem9uZUlEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudElEXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb25zdCByZW1vdmVFbGVtZW50ID0gKGVsZW1lbnRJRCwgZHJvcHpvbmVJRCwgcGFyZW50SUQsIGNiKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50KGVsZW1lbnRJRCwgZHJvcHpvbmVJRCwgcGFyZW50SUQpO1xuXG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUVsZW1lbnQoZWxlbWVudElELCBjYik7XG4gICAgICAgIHJwbUV2ZW50Lm5vdGlmeUVsZW1lbnRSZW1vdmUoe1xuICAgICAgICAgIGVsZW1lbnRJRCwgZHJvcHpvbmVJRCwgcGFyZW50SUQsIHRyYXNoZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBmaWx0ZXIgb3V0IHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBmcm9tIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb25seVJlbW92ZUZ1bmN0aW9ucyAtIGluLWNhc2Ugb2YgYGdldFN0b3JhYmxlU3RhdGVgIHJlc3VsdCB3ZSBvbmx5XG4gICAgICogbmVlZCB0byBmaWx0ZXIgb3V0IGZ1bmN0aW9ucyBhbmQgaW4gb3RoZXIgY2FzZXMgd2Ugd2lsbCBmaWx0ZXIgb3V0IG90aGVyIHByb3BzIGFsc29cbiAgICAgKiBiYXNlZCBvbiBgc2hhcmVhYmxlRWxlbWVudFByb3BzYFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNvbnN0IHJlbW92ZVNlbnNpdGl2ZVByb3BzID0gKGVsZW1lbnQsIG9ubHlSZW1vdmVGdW5jdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHNoYXJlYWJsZUVsZW1lbnQgPSB7fTtcblxuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgYWxsIHByaXZhdGUvZnVuY3RpbmFsIHByb3BlcnRpZXNcbiAgICAgIE9iamVjdC5rZXlzKGVsZW1lbnQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGVsZW1lbnRba2V5XSAhPT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIChcbiAgICAgICAgICAgIG9ubHlSZW1vdmVGdW5jdGlvbnMgfHxcbiAgICAgICAgICAgICFvbmx5UmVtb3ZlRnVuY3Rpb25zICYmIHNoYXJlYWJsZUVsZW1lbnRQcm9wcy5pbmRleE9mKGtleSkgIT09IC0xXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBzaGFyZWFibGVFbGVtZW50W2tleV0gPSBlbGVtZW50W2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2hhcmVhYmxlRWxlbWVudDtcbiAgICB9O1xuXG4gICAgLy8gZnVuY3Rpb24gdG8gcmV0dXJuIGVsZW1lbnQsIGZpbHRlciBzZW5zaXRpdmUgcHJvcHMgYmVmb3JlIHJldHVyblxuICAgIGNvbnN0IGdldEVsZW1lbnQgPSAoLi4uYXJncykgPT4gcmVtb3ZlU2Vuc2l0aXZlUHJvcHModHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50KC4uLmFyZ3MpKTtcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGUgZnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBleGlzaXRpbmcgZmllbGRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudElEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRyb3B6b25lSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50SURcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQvT2JqZWN0fSBuZXdEYXRhIC0geyBpZCwgdHlwZSwgbmFtZSwgcGF5bG9hZCB9XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjb25zdCB1cGRhdGVFbGVtZW50ID0gKGVsZW1lbnRJRCwgZHJvcHpvbmVJRCwgcGFyZW50SUQsIG5ld0RhdGEsIGNiKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50KGVsZW1lbnRJRCwgZHJvcHpvbmVJRCwgcGFyZW50SUQpO1xuXG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnVwZGF0ZUVsZW1lbnQoe1xuICAgICAgICAgIC4uLm5ld0RhdGEsXG4gICAgICAgICAgaWQ6IGVsZW1lbnRJRFxuICAgICAgICB9LCBjYik7XG5cbiAgICAgICAgcnBtRXZlbnQubm90aWZ5RWxlbWVudFVwZGF0ZShnZXRFbGVtZW50KGVsZW1lbnRJRCwgZHJvcHpvbmVJRCwgcGFyZW50SUQpKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGFsbCBub2RlXG4gICAgLy8gcmVtb3ZlIGFsbCBwcml2YXRlL2Z1bmN0aW9uYWwgcHJvcGVydGllc1xuICAgIC8vIGFuZCByZXR1cm4gZmxhdCBvYmplY3QgZm9yIGVhY2ggbm9kZVxuICAgIGNvbnN0IHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90ID0gKGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHN1YkZpZWxkcyA9IFtdO1xuICAgICAgLy8gcmVtb3ZlIGFsbCBmdW5jdGluYWwgcHJvcGVydGllc1xuICAgICAgY29uc3QgbmVjZXNzYXJ5RGV0YWlscyA9IHJlbW92ZVNlbnNpdGl2ZVByb3BzKGVsZW1lbnQsIHRydWUpO1xuXG4gICAgICAvLyBjaGVjayBmb3Igc3ViIGZpZWxkcyBhbmQgcGVyZm9ybSBzYW1lIG9wZXJhdGlvbnMgcmVjdXJzaXZlbHlcbiAgICAgIGlmIChlbGVtZW50LmZpZWxkcyAmJiBlbGVtZW50LmZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgZWxlbWVudC5maWVsZHMuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICAgIHN1YkZpZWxkcy5wdXNoKHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90KGYpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGFwcGVuZCBpbml0aWFsRWxlbWVudHMgYW5kIHVwZGF0ZWQgZmllbGRzXG4gICAgICBpZiAoc3ViRmllbGRzLmxlbmd0aCkge1xuICAgICAgICBuZWNlc3NhcnlEZXRhaWxzLmluaXRpYWxFbGVtZW50cyA9IFtdO1xuICAgICAgICBuZWNlc3NhcnlEZXRhaWxzLmZpZWxkcyA9IFtdO1xuXG4gICAgICAgIHN1YkZpZWxkcy5mb3JFYWNoKChzZikgPT4ge1xuICAgICAgICAgIG5lY2Vzc2FyeURldGFpbHMuaW5pdGlhbEVsZW1lbnRzLnB1c2goc2YpO1xuICAgICAgICAgIG5lY2Vzc2FyeURldGFpbHMuZmllbGRzLnB1c2goc2YpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gcmV0dXJuIGZsYXQgb2JqZWN0IHdoaWNoIHJlcHJlc2VudCBjdXJyZW50IG5vZGUgaW4gdHJlZVxuICAgICAgcmV0dXJuIG5lY2Vzc2FyeURldGFpbHM7XG4gICAgfTtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAvLyBvbmNlIHVwZGF0ZSBpcyBkb25lIHRoZW4gdHJpZ2dlcnMgQ0IgYW5kIG5vdGlmeVN0YXRlQ2hhbmdlXG4gICAgdGhpcy51cGRhdGVTdGF0ZSA9IChkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzLCBjYiA9ICgpID0+IHt9LCBkaXNwYXRjaEVsZW1lbnRSZW1vdmUpID0+IHtcbiAgICAgIHRyYXZlcnNlQW5kVXBkYXRlVHJlZShkcm9wem9uZUlELCBwYXJlbnRJRCwgZmllbGRzKTtcbiAgICAgIGNiKHN0YXRlLnRyZWUpO1xuICAgICAgcnBtRXZlbnQubm90aWZ5U3RhdGVDaGFuZ2UoKTtcblxuICAgICAgLy8gZGlzcGF0Y2ggZWxlbWVudFJlbW92ZSBldmVudCBpZiBuZWNlc3NhcnlcbiAgICAgIGlmIChkaXNwYXRjaEVsZW1lbnRSZW1vdmUpIHtcbiAgICAgICAgcnBtRXZlbnQubm90aWZ5RWxlbWVudFJlbW92ZSh7XG4gICAgICAgICAgZHJvcHpvbmVJRCxcbiAgICAgICAgICBwYXJlbnRJRCxcbiAgICAgICAgICBkaXNwYXRjaEVsZW1lbnRSZW1vdmUsXG4gICAgICAgICAgLy8ganVzdCB0byBkaXN0aW5ndWlzaCB3aGV0aGVyIGZpZWxkIHJlbW92ZWQgZnJvbSBgcmVtb3ZlRmllbGRgIEFQSSBvciB0cmFzaCBjb21wb25lbnRcbiAgICAgICAgICB0cmFzaGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBmdW5jdGlvbiB0byByZXR1cm4gZWxlbWVudCBwYXJlbnRcbiAgICB0aGlzLmdldEVsZW1lbnRQYXJlbnQgPSB0cmF2ZXJzZUFuZFJldHVyblBhcmVudDtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIHJldHVybiBlbGVtZW50XG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZ2V0RWxlbWVudDtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIHJlbW92ZSBlbGVtZW50XG4gICAgdGhpcy5yZW1vdmVFbGVtZW50ID0gcmVtb3ZlRWxlbWVudDtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIHVwZGF0ZSBlbGVtZW50XG4gICAgdGhpcy51cGRhdGVFbGVtZW50ID0gdXBkYXRlRWxlbWVudDtcblxuICAgIC8vIGZ1bnRpb24gdG8gZ2V0IGVsZW1lbnQgZGV0YWlsc1xuICAgIHRoaXMudHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50ID0gdHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGN1cnJlbnQgc3RhdGUgb2YgdHJlZSAoYXMgaXMpXG4gICAgICoga2VlcGluZyB0aGlzIGZ1bmN0aW9uIHRvIGdpdmUgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcbiAgICAgKi9cbiAgICB0aGlzLmdldFN0YXRlID0gKCkgPT4gKHN0YXRlLnRyZWUpO1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIHN0b3JhYmxlIGN1cnJlbnQgc3RhdGVcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGRvZXMgc2FtZSBqb2IgYXMgZ2V0U3RhdGUgb25seSBpdCBtYWtlIHN1cmVcbiAgICAgKiByZXR1cm5lZCBkYXRhIGlzIGluIHByb3BlciBmb3JtYXQgYW5kIHVuZWNlc3NhcnkgcHJvcGVydGllcyByZW1vdmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gc3RhdGUgdHJlZVxuICAgICAqL1xuICAgIHRoaXMuZ2V0U3RvcmFibGVTdGF0ZSA9ICgpID0+IChzdGF0ZS50cmVlWzBdLmZpZWxkc1xuICAgICAgLm1hcChmID0+IHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90KGYpKSk7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBjbGVhciB0aGUgc3RhdGVcbiAgICAgKiBsb29wIHRob3VnaCBhbGwgcGFyZW50KGVuZCBsZXZlbCkgbm9kZXMsIGFuZCBjYWxsIGBmbHVzaERyb3BwZWRFbGVtZW50c2AgZnVuY3Rpb25cbiAgICAgKiBzbyB0aGF0IGNvbXBvbmVudCBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9uIHN0YXRlIGdldHMgZmx1c2hlZFxuICAgICAqL1xuICAgIHRoaXMuY2xlYXJTdGF0ZSA9IChjYiA9ICgpID0+IHt9KSA9PiB7XG4gICAgICBjb25zdCByb290Tm9kZSA9IHN0YXRlLnRyZWVbMF07XG4gICAgICBjb25zdCB0b3BMZXZlbEZpZWxkcyA9IHJvb3ROb2RlLmZpZWxkcy5sZW5ndGg7XG5cbiAgICAgIC8vIGNhbnZhcyBpcyBlbXB0eSwganVzdCBub3RpZnkgb3RoZXJcbiAgICAgIGlmICghcm9vdE5vZGUuZmllbGRzLmxlbmd0aCkge1xuICAgICAgICBycG1FdmVudC5ub3RpZnlTdGF0ZUZsdXNoKCk7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG5cbiAgICAgIHJvb3ROb2RlLmZpZWxkcy5mb3JFYWNoKCh0b3BMZXZlbEVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgdG9wTGV2ZWxFbGVtZW50LmZsdXNoRHJvcHBlZEVsZW1lbnRzKCgpID0+IHtcbiAgICAgICAgICBpZiAoaSA9PT0gdG9wTGV2ZWxGaWVsZHMgLSAxKSB7XG4gICAgICAgICAgICBycG1FdmVudC5ub3RpZnlTdGF0ZUZsdXNoKHRydWUpO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBhZGQgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IHJwbUV2ZW50LmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byByZW1vdmUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJwbUV2ZW50LnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gIH1cbn1cblxuY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgc3RhdGU7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHN0YXRlIGZyb20gJy4uLy4uL2NvcmUvc3RhdGUnO1xuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcblxuY2xhc3MgRHJvcHpvbmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIC8vIGNyZWF0ZSByZWZyZW5jZSBmb3IgY2FudmFzXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiBjdXJyZW50IGNhbnZhcyBvciBub3RcbiAgICB0aGlzLmNhbnZhc1JlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXG4gICAgLy8gY29tcG9uZW50IHN0YXRlXG4gICAgLy8gaW5pdGlhbEVsZW1lbnRzIC0gdG8ga2VlcCB0cmFjayBvZiBpbml0aWFsIGVsZW1lbnRzXG4gICAgLy8gZHJvcHBlZEVsZW1lbnRzIC0gdG8ga2VlcCB0cmFjayBvZiBuZXdseSBhZGRlZCBlbGVtZW50c1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpbml0aWFsRWxlbWVudHM6IFtdLFxuICAgICAgZHJvcHBlZEVsZW1lbnRzOiBbXSxcbiAgICAgIGluaXREb25lOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5fc2V0SW5pdGlhbEVsZW1lbnRzKHRoaXMucHJvcHMuaW5pdGlhbEVsZW1lbnRzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoeyBpbml0aWFsRWxlbWVudHMgfSkge1xuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyhpbml0aWFsRWxlbWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIGFsbG93IG1hbnVhbCBlbGVtZW50IHVwZGF0ZVxuICAgKiBOb3RlIC0gZnVuY3Rpb24gaXMgb25seSBhY2Nlc3NpYmxlIHRocm91Z2ggcmVmIGFuZCBtYWtlIHN1cmVcbiAgICogdmFsaWQgZGF0YSBpcyBwYXNzIHRocm91Z2ggZWxzZSBhcHBsaWNhdGlvbiBzdGF0ZS9oaWVyYXJjaHkgY2FuIGJyZWFrXG4gICAqIEBwYXJhbSBkYXRhIHtBcnJheS9GdW5jdGlvbn0gLSBpZiBpdHMgZnVuY3Rpb24gdGhlbiBtYWtlIHN1cmUgeW91IGFyZVxuICAgKiByZXR1cm5pbmcgdmFsaWRhIGFycmF5XG4gICAqIEBwYXJhbSBkb25lIHtmdW5jdGlvbn0gLSBzdWNjZXNzIGNhbGwgYmFjayBmdW5jdGlvblxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlTZXRFbGVtZW50cyA9IChkYXRhLCBkb25lKSA9PiB7XG4gICAgbGV0IGVsZW1lbnRzID0gW107XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBlbGVtZW50cyA9IGRhdGEodGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMpIHx8IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50cyA9IGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IHsgaWQ6IGRyb3B6b25lSUQsIHBhcmVudElEIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZSA9PiAoe1xuICAgICAgLi4uZSxcbiAgICAgIGRyb3B6b25lSUQsXG4gICAgICBwYXJlbnRJRCxcbiAgICAgIHNob3dCYXNpY0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxuICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcbiAgICAgIHVwZGF0ZUVsZW1lbnQ6IHRoaXMuX3VwZGF0ZUVsZW1lbnQsXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IHRoaXMuX2NoZWNrQW5kUmVtb3ZlRWxlbWVudFxuICAgIH0pKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5pdGlhbEVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgIGRyb3BwZWRFbGVtZW50czogZWxlbWVudHNcbiAgICB9LCAoKSA9PiB0aGlzLl91cGRhdGVTdGF0ZShkb25lKSk7XG4gIH1cblxuICAvKipcbiAgICogZnVuY3Rpb24gdG8gcmVtb3ZlIGJlZm9yZS9hZnRlciBjbGFzcyBmb3JtIGFsbCBjYW52YXMgZWxlbWVudHNcbiAgICovXG4gIF91bm1hcmtEcmFnRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuY2FudmFzUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyYWctaXRlbScpLCBlID0+IGUuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJywgJ2FmdGVyJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBpbml0aWFsIGVsZW1lbnRzXG4gICAqIEBwYXJhbSBpbml0aWFsRWxlbWVudHMge0FycmF5fSAtIEl0IGhvbGRzIGFsbCBpbml0aWFsIGVsZW1lbnRzIHRvIGJlIHNob3duIGluIGNhbnZhc1xuICAgKi9cbiAgX3NldEluaXRpYWxFbGVtZW50cyA9IChpbml0aWFsRWxlbWVudHMpID0+IHtcbiAgICAvLyBjdXJyZW50IGNvbXBvbmVudCBzdGF0ZShkcm9wcGVkRWxlbWVudHMpIGRvZXNuJ3QgaG9sZCBhbnkgZWxlbWVudHNcbiAgICAvLyBidXQgaW5pdGlhbEVsZW1lbnRzIGhhcyBzb21lIGVsZW1lbnQgdG8gYmUgc2V0XG4gICAgY29uc3QgZ290SW5pdGlhbEl0ZW1zID0gQXJyYXkuaXNBcnJheShpbml0aWFsRWxlbWVudHMpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEVsZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmluaXREb25lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLmxlbmd0aDtcblxuICAgIC8vIGZvciBmaXJzdCB0aW1lIGFkZCBpbml0aWFsRWxlbWVudHMgdG8gZHJvcHBlZEVsZW1lbnRzXG4gICAgaWYgKGdvdEluaXRpYWxJdGVtcykge1xuICAgICAgY29uc3QgeyBpZDogZHJvcHpvbmVJRCwgcGFyZW50SUQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB1cGRhdGVkSW5pdGlhbEl0ZW1zID0gaW5pdGlhbEVsZW1lbnRzLm1hcChlID0+ICh7XG4gICAgICAgIC4uLmUsXG4gICAgICAgIGtleTogZS5pZCxcbiAgICAgICAgZHJvcHpvbmVJRCxcbiAgICAgICAgcGFyZW50SUQsXG4gICAgICAgIHNob3dCYXNpY0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgICB1cGRhdGVTdGF0ZTogdGhpcy5fdXBkYXRlU3RhdGUsXG4gICAgICAgIHJlbW92ZUVsZW1lbnQ6IHRoaXMuX3JlbW92ZUVsZW1lbnQsXG4gICAgICAgIHVwZGF0ZUVsZW1lbnQ6IHRoaXMuX3VwZGF0ZUVsZW1lbnQsXG4gICAgICAgIGZsdXNoRHJvcHBlZEVsZW1lbnRzOiB0aGlzLl9mbHVzaERyb3BwZWRFbGVtZW50cyxcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcbiAgICAgIH0pKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluaXRpYWxFbGVtZW50czogdXBkYXRlZEluaXRpYWxJdGVtcyxcbiAgICAgICAgZHJvcHBlZEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zXG4gICAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbml0RG9uZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxuICAgKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhc1xuICAgKiBAcGFyYW0gdGFyZ2V0IHtET019IC0gY3VycmVudCBjYW52YXMgdXBvbiB3aGljaCB1c2UgaXMgaG92ZXJpbmdcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxuICAgKi9cbiAgX21hbmFnZUluc2lkZUNsYXNzID0gKHsgdGFyZ2V0IH0sIGFjdGlvbikgPT4ge1xuICAgIGlmICh0aGlzLmNhbnZhc1JlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcbiAgICAgIHRhcmdldC5jbGFzc0xpc3RbYWN0aW9uXSgnaW5zaWRlJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBlbGVtZW50IGZyb20gZHJvcHBlZEVsZW1lbnRzXG4gICAqIEBwYXJhbSBlbGVtZW50SUQgLSB7U3RyaW5nfSAtIElEIG9mIGVsZW1lbnRcbiAgICogQHBhcmFtIGNiIC0ge2Z1bmN0aW9ufVxuICAgKiBAcGFyYW0gZGlzcGF0Y2hFbGVtZW50UmVtb3ZlIHtCb29sZWFufSAtIHRyaWdnZXIgYHJlbW92ZUVsZW1lbnRgIGV2ZW50IGlmIGl0cyB0cnVlXG4gICAqL1xuICBfcmVtb3ZlRWxlbWVudCA9IChlbGVtZW50SUQsIGNiID0gKCkgPT4ge30sIGRpc3BhdGNoRWxlbWVudFJlbW92ZSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gZWxlbWVudElEKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcHBlZEVsZW1lbnRzOiB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maWx0ZXIoKGQsIGkpID0+IChpICE9PSBpbmRleCkpXG4gICAgfSwgKCkgPT4gdGhpcy5fdXBkYXRlU3RhdGUoY2IsIGRpc3BhdGNoRWxlbWVudFJlbW92ZSA/IGVsZW1lbnRJRCA6IG51bGwpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgZWxlbWVudCBmcm9tIGRyb3BwZWRFbGVtZW50c1xuICAgKiBAcGFyYW0gbmV3RGF0YSAtIHtlbGVtZW50fSAtIHsgaWQsIG5hbWUsIHR5cGUsIHBheWxvYWQgfVxuICAgKiBAcGFyYW0gY2IgLSB7ZnVuY3Rpb259XG4gICAqL1xuICBfdXBkYXRlRWxlbWVudCA9IChuZXdEYXRhLCBjYiA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3QgZWxlbWVudEluZGV4ID0gdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gbmV3RGF0YS5pZCk7XG5cbiAgICBpZiAoZWxlbWVudEluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIGNiKG51bGwpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgaXMgbGltaXRlZCB0byBiZWxvdyBrZXlzIG9ubHksIHRvIGF2b2lkIHBvc3NpYmxlIGJyZWFrc1xuICAgIGNvbnN0IHN1cHBvcnRlZEtleXMgPSBbJ25hbWUnLCAndHlwZScsICdwYXlsb2FkJ107XG4gICAgY29uc3QgbmV3RWxlbWVudERhdGEgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhuZXdEYXRhKVxuICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoc3VwcG9ydGVkS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgICAgICAgbmV3RWxlbWVudERhdGFba2V5XSA9IG5ld0RhdGFba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3BwZWRFbGVtZW50czogdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHNcbiAgICAgICAgLm1hcCgoZSkgPT4ge1xuICAgICAgICAgIGlmIChlLmlkID09PSBuZXdEYXRhLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5lLCAuLi5uZXdFbGVtZW50RGF0YSB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9KVxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGNiKSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlIChub3QgY29tcG9uZW50IHN0YXRlKVxuICAgKiBmdW5jdGlvbiB3aWxsIGZ1cnRoZXIgY2FsbCBgdXBkYXRlU3RhdGVgIGZyb20gc3RhdGUgQVBJLCB3aGljaCB1cGRhdGVzIHRoZSBhcHBsaWNhdGlvbiBzdGF0ZVxuICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSAtIGNhbGxiYWNrIGZ1bmN0aW9uIC0gb3B0aW9uYWxcbiAgICovXG4gIF91cGRhdGVTdGF0ZSA9IChjYiA9ICgpID0+IHt9LCBkaXNwYXRjaEVsZW1lbnRSZW1vdmUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpZDogZHJvcHpvbmVJRCxcbiAgICAgIHBhcmVudElEXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBzdGF0ZS51cGRhdGVTdGF0ZShcbiAgICAgIGRyb3B6b25lSUQsXG4gICAgICBwYXJlbnRJRCxcbiAgICAgIHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLFxuICAgICAgY2IsXG4gICAgICBkaXNwYXRjaEVsZW1lbnRSZW1vdmVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIGZsdXNoIHRoZSBjb21wb25lbnQgc3RhdGVcbiAgICogb25jZSBjb21wb25lbnQgc3RhdGUgdGhzIGZsdXNoZWQsIHRoaXMgd2lsbCBjYWxsIGBfdXBkYXRlU3RhdGVgIHRvIHVwZGF0ZSB0aGVcbiAgICogYXBwbGljYXRpb24gc3RhdGVcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXG4gICAqL1xuICBfZmx1c2hEcm9wcGVkRWxlbWVudHMgPSAoY2IgPSAoKSA9PiB7fSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5pdGlhbEVsZW1lbnRzOiBbXSxcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW11cbiAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoY2IpKSk7XG4gIH1cblxuICAvKipcbiAgICogZnVuY3Rpb24gY2hlY2sgYmVsb3cgcGFyYW1ldGVyc1xuICAgKiAxIC0gdXNlcidzIGludGVuZCBpcyB0byBtb3ZlIGVsZW1lbnQgZnJvbSBvbmUgY2FudmFzIHRvIG90aGVyXG4gICAqIDIgLSBHZXQgY29uZmlybWF0aW9uIGJlZm9yZSByZW1vdmVcbiAgICogb25jZSBib3RoIGNvbmRpdGlvbiBtYXRjaGVkIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIGN1cnJlbnQgY2FudmFzXG4gICAqL1xuICBfY2hlY2tBbmRSZW1vdmVFbGVtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRNb3ZlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQsIGVsZW1lbnRJRCB9ID0gZWxlbWVudE1vdmVkO1xuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMucHJvcHMub25FbGVtZW50TW92ZShlbGVtZW50TW92ZWQpO1xuICAgIGNvbnN0IGF0dGVtcHRUb01vdmUgPSAhY29yZS5nZXRBdHRlbXB0VG9SZW1vdmUoKTtcblxuICAgIGlmIChzdGF0dXMgJiYgYXR0ZW1wdFRvTW92ZSkge1xuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50SUQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0aGUgY2FudmFzXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXG4gIC8vIEBwYXJhbSBlIHtldmVudH1cbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZXIgaXMgbGVhdmluZyB0aGUgY2FudmFzXG4gICAqIEBwYXJhbSBlIHtldmVudH1cbiAgICovXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciBjYW52YXNcbiAgICogQHBhcmFtIGUge2V2ZW50fVxuICAgKi9cbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAnYWRkJyk7XG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZSBoYXMgZHJvcHBlZCB0aGUgZWxlbWVudCBpbnRvIHRoZSBjYW52YXNcbiAgICogcGVyZm9ybSBhbGwgcmVxdWlyZWQgY2hlY2tzXG4gICAqIGZ1bmN0aW9uIGFsc28gdHJpZ2dlcnMgYG9uRHJvcGAgcHJvcCBzbyB0aGF0IHVzZXQgY2FuIHByb3ZpZGUgYWRkaXRpb25hbCBpbmZvXG4gICAqIG9uY2UgYWxsIGRvbmUgYF9hZGRFbGVtZW50YCBnZXQgY2FsbGVkIHdpdGggYWxsIHJlcXVpcmVkIGluZm9cbiAgICogQHBhcmFtIGUge2V2ZW50fVxuICAgKi9cbiAgX29uRHJvcCA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgeyBkcm9wcGVkRWxlbWVudHMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZShmYWxzZSk7XG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xuXG4gICAgY29uc3QgeyBvbkRyb3AgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2RhdGEnKSk7XG4gICAgZGF0YSA9IHsgLi4uZGF0YSB9O1xuXG4gICAgdGhpcy5fdW5tYXJrRHJhZ0VsZW1lbnRzKCk7XG5cbiAgICByZXR1cm4gb25Ecm9wID8gb25Ecm9wKGRhdGEsIHRoaXMuX2FkZEVsZW1lbnQsIHtcbiAgICAgIGRyb3BJbmRleDogIWRyb3BwZWRFbGVtZW50cy5sZW5ndGggPyBjb3JlLmdldERyb3BQb3N0aW9uKCkgKyAxIDogMCxcbiAgICAgIGN1cnJlbnRFbGVtZW50czogZHJvcHBlZEVsZW1lbnRzXG4gICAgfSkgOiB0aGlzLl9hZGRFbGVtZW50KGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIGFkZCBlbGVtZW50IGludG8gZHJvcHBlZEVsZW1lbnRzXG4gICAqIHByaW9yIHRvIGFkZCBpdCBwZXJmb20gYmVsb3cgY2hlY2tcbiAgICogMSAtIGVsZW1lbnQgaGFzIHVuaXF1ZSBrZXlcbiAgICogMiAtIGVsZW1lbnQgaGFzIGludmFsaWQgZGF0YVxuICAgKiAzIC0gY2hlY2sgYWdhaW5zdCBtYXgtY2FwYWNpdHlcbiAgICogb25jZSBlbGVtZW50IGFkZGVkIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHByZXZpb3VzIGNhbnZhc1xuICAgKiBAcGFyYW0gdXBkYXRlZERhdGEge09iamVjdH0gLSBlbGVtZW50IGluZm9ybWF0aW9uXG4gICAqIEByZXR1cm5zIE9iamVjdCAtIG5ldyBsaXN0IG9mIGNhbnZhcyBlbGVtZW50c1xuICAgKi9cbiAgX2FkZEVsZW1lbnQgPSAodXBkYXRlZERhdGEpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpZDogZHJvcHpvbmVJRCxcbiAgICAgIGNhcGFjaXR5LFxuICAgICAgcGFyZW50SUQsXG4gICAgICBhbGxvd0hvcml6b250YWxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBkcm9wUG9zaXRpb24gPSBjb3JlLmdldERyb3BQb3N0aW9uKCk7XG4gICAgY29uc3QgZHJhZ2dlZEVsZW1lbnQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XG4gICAgY29uc3QgaW52YWxpZFVwZGF0ZWREYXRhID0gIXVwZGF0ZWREYXRhIHx8ICF1cGRhdGVkRGF0YS5pZDtcbiAgICBsZXQgaW5kZXhPZlByZXNlbnRFbGVtZW50ID0gLTE7XG4gICAgY29uc3Qga2V5QWxyZWFkeVByZXNlbnQgPSB1cGRhdGVkRGF0YS5pZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmlsdGVyKChlLCBpKSA9PiB7XG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xuICAgICAgICAgIGluZGV4T2ZQcmVzZW50RWxlbWVudCA9IGk7XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pLmxlbmd0aDtcbiAgICBjb25zdCBpc1NhbWVJbmRleCA9IGluZGV4T2ZQcmVzZW50RWxlbWVudCA9PT0gZHJvcFBvc2l0aW9uO1xuICAgIGxldCBuZXdFbGVtZW50cyA9IFtdLmNvbmNhdCh0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cyk7XG4gICAgbGV0IGVsZW1lbnRBbHJlYWR5UmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgLy8gY2hlY2sgZm8gdW5pcXVlIGtleVxuICAgIGlmIChpbnZhbGlkVXBkYXRlZERhdGEgfHwga2V5QWxyZWFkeVByZXNlbnQpIHtcbiAgICAgIGlmIChpc1NhbWVJbmRleCkge1xuICAgICAgICByZXR1cm4gY29yZS5lcnJvcignRHVwbGljYXRlIG9yIGludmFsaWQgSUQnKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudEFscmVhZHlSZW1vdmVkID0gdHJ1ZTtcbiAgICAgIG5ld0VsZW1lbnRzID0gbmV3RWxlbWVudHMubWFwKChlKSA9PiB7XG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xuICAgICAgICAgIHJldHVybiB7IC4uLmUsIHJlbW92ZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IGluaXRpYWxFbGVtZW50c1RvQmluZCA9IG51bGw7XG4gICAgaWYgKHVwZGF0ZWREYXRhLmRyb3B6b25lSUQgJiYgdXBkYXRlZERhdGEucGFyZW50SUQpIHtcbiAgICAgIGNvbnN0IG9sZENvcHkgPSBzdGF0ZS50cmF2ZXJzZUFuZFJldHVybkVsZW1lbnQodXBkYXRlZERhdGEuaWQsIHVwZGF0ZWREYXRhLmRyb3B6b25lSUQsIHVwZGF0ZWREYXRhLnBhcmVudElEKTtcbiAgICAgIGluaXRpYWxFbGVtZW50c1RvQmluZCA9IG9sZENvcHkgJiYgb2xkQ29weS5maWVsZHMgfHwgW107XG4gICAgICBjb25zdCBhc3NpZ25Jbml0aWFsRWxlbWVudHMgPSAobGlzdCkgPT4ge1xuICAgICAgICBsaXN0LmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgaWYgKGUuZmllbGRzKSB7XG4gICAgICAgICAgICBlLmluaXRpYWxFbGVtZW50cyA9IGUuZmllbGRzO1xuICAgICAgICAgICAgYXNzaWduSW5pdGlhbEVsZW1lbnRzKGUuZmllbGRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhc3NpZ25Jbml0aWFsRWxlbWVudHMoaW5pdGlhbEVsZW1lbnRzVG9CaW5kKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50VG9Ecm9wID0ge1xuICAgICAgLi4udXBkYXRlZERhdGEsXG4gICAgICBrZXk6IHVwZGF0ZWREYXRhLmlkLFxuICAgICAgZHJvcHpvbmVJRCxcbiAgICAgIHBhcmVudElELFxuICAgICAgYWxsb3dIb3Jpem9udGFsLFxuICAgICAgc2hvd0Jhc2ljQ29udGVudDogZmFsc2UsXG4gICAgICB1cGRhdGVTdGF0ZTogdGhpcy5fdXBkYXRlU3RhdGUsXG4gICAgICByZW1vdmVFbGVtZW50OiB0aGlzLl9yZW1vdmVFbGVtZW50LFxuICAgICAgdXBkYXRlRWxlbWVudDogdGhpcy5fdXBkYXRlRWxlbWVudCxcbiAgICAgIC8vIGluaXRpYWxFbGVtZW50cyBoZWxwcyBmaWd1cmluZyBvdXQgaW5pdERvbmVcbiAgICAgIGluaXRpYWxFbGVtZW50czogaW5pdGlhbEVsZW1lbnRzVG9CaW5kIHx8IHRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLFxuICAgICAgZmx1c2hEcm9wcGVkRWxlbWVudHM6IHRoaXMuX2ZsdXNoRHJvcHBlZEVsZW1lbnRzLFxuICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcbiAgICB9O1xuXG4gICAgaWYgKGRyb3BQb3NpdGlvbiA+IDApIHtcbiAgICAgIG5ld0VsZW1lbnRzID0gW1xuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZSgwLCBkcm9wUG9zaXRpb24pLFxuICAgICAgICBlbGVtZW50VG9Ecm9wLFxuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZShkcm9wUG9zaXRpb24pXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFbGVtZW50cyA9IFtcbiAgICAgICAgZWxlbWVudFRvRHJvcCxcbiAgICAgICAgLi4ubmV3RWxlbWVudHNcbiAgICAgIF07XG4gICAgfVxuXG4gICAgaWYgKCFpc1NhbWVJbmRleCkge1xuICAgICAgbmV3RWxlbWVudHMgPSBuZXdFbGVtZW50cy5maWx0ZXIoZSA9PiAhZS5yZW1vdmUpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIG5ldyBsaXN0IGFnYWluc3QgbWF4LWNhcGFjaXR5XG4gICAgaWYgKGNhcGFjaXR5ICYmIG5ld0VsZW1lbnRzLmxlbmd0aCA+IGNhcGFjaXR5KSB7XG4gICAgICByZXR1cm4gY29yZS5lcnJvcihgTWF4aW11bSBjYXBhY2l0eSBvZiBjYW52YXMoJHtkcm9wem9uZUlEfSkgaXMgJHtjYXBhY2l0eX1gKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgbGlzdFxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcHBlZEVsZW1lbnRzOiBuZXdFbGVtZW50c1xuICAgIH0sICgpID0+IHtcbiAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXG4gICAgICBpZiAoIWVsZW1lbnRBbHJlYWR5UmVtb3ZlZCAmJiBkcmFnZ2VkRWxlbWVudCAmJiB0eXBlb2YgZHJhZ2dlZEVsZW1lbnQuY2hlY2tBbmRSZW1vdmVFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRyYWdnZWRFbGVtZW50LmNoZWNrQW5kUmVtb3ZlRWxlbWVudCgpO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkaW5nIGRyb3BwaW5nIGNsYXNzIHRvIGRyb3B6b25lLCBpdCBjYW4gYmUgdXNlZCBmb3IgYW5pbWF0aW9uIHB1cnBvc2VcbiAgICB0aGlzLmNhbnZhc1JlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2Ryb3BwaW5nJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNhbnZhc1JlZi5jdXJyZW50ICYmIHRoaXMuY2FudmFzUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcHBpbmcnKTtcbiAgICB9LCA1MDApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRyb3B6b25lSUQsXG4gICAgICBlbGVtZW50czogbmV3RWxlbWVudHNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHJlbmRlciB0aGUgZHJhZ2dlZCBlbGVtZW50XG4gICAqIEBwYXJhbSBwcm9wcyB7T2JqZWN0fSAtIEFuIG9iamVjdCB3aGljaCBob2xkIHRoZSBpbmZvIG9mIGRyYWdnZWQgZWxlbWVudC9jb21wb25lbnRcbiAgICogQHJldHVybnMgSlNYXG4gICAqL1xuICBfcmVuZGVyRHJhZ0l0ZW0gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XG4gICAgcmV0dXJuIGVsZW1lbnQgPyA8ZWxlbWVudC5jb21wb25lbnQgey4uLnByb3BzfSAvPiA6IG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkcm9wcGVkRWxlbWVudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyBjYXBhY2l0eSwgaWQsIHBsYWNlaG9sZGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHNwYWNlQXZhaWxhYmxlID0gY2FwYWNpdHkgPyBjYXBhY2l0eSA+IGRyb3BwZWRFbGVtZW50cy5sZW5ndGggOiB0cnVlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXt0aGlzLmNhbnZhc1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtgJHshc3BhY2VBdmFpbGFibGUgPyAnbm8tc3BhY2UnIDogJyd9ICR7aWQgPT09ICdyb290JyA/ICdjYW52YXMnIDogJyd9ICR7IWRyb3BwZWRFbGVtZW50cy5sZW5ndGggPyAnZW1wdHknIDogJyd9IGRyb3B6b25lYH1cbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5fb25EcmFnT3Zlcn1cbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuX29uRHJhZ0xlYXZlfVxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XG4gICAgICAgIG9uRHJvcD17dGhpcy5fb25Ecm9wfVxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX29uRHJhZ0VuZH1cbiAgICAgID5cbiAgICAgICAge1xuICAgICAgICAgIGRyb3BwZWRFbGVtZW50cy5tYXAoKGUsIGkpID0+IChcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRyYWdJdGVtKHtcbiAgICAgICAgICAgICAgLi4uZSxcbiAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgIHNwYWNlQXZhaWxhYmxlLFxuICAgICAgICAgICAgICBpbml0RG9uZTogdGhpcy5zdGF0ZS5pbml0RG9uZSxcbiAgICAgICAgICAgICAgZHJvcHpvbmVQcm9wczoge1xuICAgICAgICAgICAgICAgIGluaXREb25lOiB0aGlzLnN0YXRlLmluaXREb25lLFxuICAgICAgICAgICAgICAgIHBhcmVudElEOiBlLmlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICAhZHJvcHBlZEVsZW1lbnRzLmxlbmd0aCA/XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkcm9wem9uZS1wbGFjZWhvbGRlclwiPntwbGFjZWhvbGRlcn08L3A+IDogbnVsbFxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkRyb3B6b25lLnByb3BUeXBlcyA9IHtcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2FwYWNpdHk6IFByb3BUeXBlcy5udW1iZXIsXG4gIG9uRHJvcDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRWxlbWVudE1vdmU6IFByb3BUeXBlcy5mdW5jLFxuICBhbGxvd0hvcml6b250YWw6IFByb3BUeXBlcy5ib29sLFxuICBpbml0aWFsRWxlbWVudHM6IFByb3BUeXBlcy5hcnJheU9mKE9iamVjdCksXG4gIHBhcmVudElEOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIFByb3BUeXBlcy5ub2RlXG4gIF0pXG59O1xuXG5Ecm9wem9uZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGluaXRpYWxFbGVtZW50czogW10sXG4gIHBsYWNlaG9sZGVyOiAnRHJvcCBIZXJlJyxcbiAgb25FbGVtZW50TW92ZTogKCkgPT4gKHRydWUpXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEcm9wem9uZTtcbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiBWZXJ5IGJhc2ljIHN0eWxlICovXFxuXFxuLyogUHJldmVudCB0aGUgdGV4dCBjb250ZW50cyBvZiBkcmFnZ2FibGUgZWxlbWVudHMgZnJvbSBiZWluZyBzZWxlY3RhYmxlLiAqL1xcbltkcmFnZ2FibGVdIHtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuXFxuICAvKiBSZXF1aXJlZCB0byBtYWtlIGVsZW1lbnRzIGRyYWdnYWJsZSBpbiBvbGQgV2ViS2l0ICovXFxuICAta2h0bWwtdXNlci1kcmFnOiBlbGVtZW50O1xcbiAgLXdlYmtpdC11c2VyLWRyYWc6IGVsZW1lbnQ7XFxufVxcblxcbi8qIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzIHdoZW4gdXNlciBkcmFnZ2luZyBvdmVyIG9uIGl0ICovXFxuLmluc2lkZSB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcbiAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjAsIDE4MCwgODEsIDAuNzUpO1xcbn1cXG5cXG4udHJhc2gtYm94Lmluc2lkZSxcXG4uZHJvcHpvbmUuaW5zaWRlLm5vLXNwYWNlIHtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC41KTtcXG4gIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC43NSk7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIzMCwgMjMsIDIzLCAwLjc1KTtcXG59XFxuXFxuLmRyb3B6b25lIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgcGFkZGluZzogMTBweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kOiAjZjBmYWZmO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzAyNzdiZDtcXG59XFxuXFxuLmRyb3B6b25lLmVtcHR5IHtcXG4gIHBhZGRpbmc6IDQwcHg7XFxufVxcblxcbi5wYWxldHRlIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMTU3OWI7XFxufVxcblxcbi5kcmFnLWl0ZW0ge1xcbiAgcGFkZGluZzogMTBweDtcXG4gIGNvbG9yOiAjMDE1NzliO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiM2U1ZmM7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDE1NzliO1xcbn1cXG5cXG4uaW5saW5lLmRyYWctaXRlbSB7XFxuICBtYXJnaW46IDAgMTBweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuXFxuLmRyb3B6b25lLXBsYWNlaG9sZGVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgY29sb3I6ICMwMTU3OWI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiBjYWxjKDUwJSAtIDEwcHgpO1xcbiAgYW5pbWF0aW9uLW5hbWU6IGNoYW5nZUNvbG9yO1xcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAycztcXG4gIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0O1xcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XFxufVxcblxcbkBrZXlmcmFtZXMgY2hhbmdlQ29sb3Ige1xcbiAgMjUlIHtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG5cXG4gIDc1JSB7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgIG9wYWNpdHk6IDAuNTtcXG4gIH1cXG59XFxuXFxuLnBhbGV0dGUtd3JhcHBlciAuZHJhZy1pdGVtIHtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAxNTc5YjtcXG59XFxuXFxuLmRyYWctaXRlbSArIGRpdiB7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cXG5cXG4uZHJhZy1pdGVtLmFmdGVyLFxcbi5kcmFnLWl0ZW0uYmVmb3JlIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmRyYWctaXRlbS5hZnRlcjo6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogNTAlO1xcbiAgaGVpZ2h0OiAxcHg7XFxuICBiYWNrZ3JvdW5kOiAjMTRiNDUxO1xcbiAgbGVmdDogNTAlO1xcbiAgYm90dG9tOiAtMXB4O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCA0cHggMTBweCAwcHggcmdiYSgyMCwgMTgwLCA4MSwgMSk7XFxuICAtbW96LWJveC1zaGFkb3c6IDBweCA0cHggMTBweCAwcHggcmdiYSgyMCwgMTgwLCA4MSwgMSk7XFxuICBib3gtc2hhZG93OiAwcHggNHB4IDEwcHggMHB4IHJnYmEoMjAsIDE4MCwgODEsIDEpO1xcbn1cXG5cXG4uZHJhZy1pdGVtLmJlZm9yZTo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDUwJTtcXG4gIGhlaWdodDogMXB4O1xcbiAgYmFja2dyb3VuZDogIzE0YjQ1MTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRvcDogLTFweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCAxMHB4IDAuM3B4IHJnYmEoMjMsIDE4MCwgODEsIDEpO1xcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggLTFweCAxMHB4IDAuM3B4IHJnYmEoMjMsIDE4MCwgODEsIDEpO1xcbiAgYm94LXNoYWRvdzogMHB4IC0xcHggMTBweCAwLjNweCByZ2JhKDIzLCAxODAsIDgxLCAxKTtcXG59XFxuXFxuLmlubGluZS5kcmFnLWl0ZW0uYmVmb3JlOjpiZWZvcmUge1xcbiAgd2lkdGg6IDFweDtcXG4gIGhlaWdodDogNTAlO1xcbiAgbGVmdDogLTFweDtcXG4gIHJpZ2h0OiB1bnNldDtcXG4gIHRvcDogNTAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxufVxcblxcbi5pbmxpbmUuZHJhZy1pdGVtLmFmdGVyOjphZnRlciB7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiA1MCU7XFxuICByaWdodDogLTFweDtcXG4gIGxlZnQ6IHVuc2V0O1xcbiAgdG9wOiB1bnNldDtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcbn1cXG5cXG4udHJhc2gtYm94IHtcXG4gIHBhZGRpbmc6IDMwcHggMTBweDtcXG4gIG1hcmdpbjogMTBweCAwO1xcbiAgY29sb3I6ICNiNzFjMWM7XFxuICBiYWNrZ3JvdW5kOiAjZmZjZGQyO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2I3MWMxYztcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XG5pbXBvcnQgc3RhdGUgZnJvbSAnLi4vLi4vY29yZS9zdGF0ZSc7XG5cbmNsYXNzIFByZXZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50U3RhdGU6IHN0YXRlLmdldFN0YXRlKClcbiAgICB9O1xuXG4gICAgdGhpcy5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCk7XG4gICAgc3RhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9vblN0YXRlQ2hhbmdlKTtcbiAgfVxuXG4gIC8vIGtlZXAgdHJhY2sgb2Ygc3RhdGUgdHJlZSBjaGFuZ2VzXG4gIF9vblN0YXRlQ2hhbmdlID0gKG5ld1N0YXRlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50U3RhdGU6IG5ld1N0YXRlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogcmVjdXJlc2l2ZSBmdW5jdGlvbiB0byBpdGVyYXRlIHRocm91Z2ggYWxsIG5vZGUgb2Ygc3RhdGUgdHJlZSBhbmRcbiAgICogcmVuZGVyIGFwcHJvcHJhdGUgY29tcG9uZW50IGFuZCBwYXNzIG5lY2Vzc2FyeSBwcm9wc1xuICAgKiBAcGFyYW0gZWxlbWVudCB7T2JqZWN0fSAtIGluZm9tYXRpb24gb2Ygc3RhdGUgdHJlZSBub2RlXG4gICAqIEByZXR1cm5zIHtKU1h9IC0gUHJldmlldy9KU1ggcmVwcmVzZW50YXRpb24gb2YgY3VycmVudCBzdGF0ZSB0cmVlXG4gICAqL1xuICBfcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGNoaWxkcmVuID0ge307XG4gICAgY29uc3QgZWxlbWVudERhdGEgPSB0aGlzLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHNcbiAgICAgIC5maW5kKGUgPT4gZS50eXBlID09PSBlbGVtZW50LnR5cGUpO1xuXG4gICAgLy8gZWxlbWVudCBoYXMgc3ViIGZpZWxkcywgcmVuZGVyIHRob3NlIGZpZWxkcyBmaXJzdFxuICAgIC8vIGFuZCB0aGVuIGNvbWUgYmFjayB0byBjdXJyZW50IGZpZWxkXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudC5maWVsZHMpKSB7XG4gICAgICBlbGVtZW50LmZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXSA9IGNoaWxkcmVuW2ZpZWxkLmRyb3B6b25lSURdIHx8IFtdO1xuICAgICAgICBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXSA9IGNoaWxkcmVuW2ZpZWxkLmRyb3B6b25lSURdXG4gICAgICAgICAgLmNvbmNhdCh0aGlzLl9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZShmaWVsZCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gcmVuZGVyIGNvcnJlc3BvbmRpbmcgY29tcG9uZW50IGFuZCBwYXNzIG5lY2Vzc2FyeSBwcm9wc1xuICAgIC8vIHNob3dQcmV2aWV3IGlzIG1hbmRhdG9yeVxuICAgIHJldHVybiAoXG4gICAgICA8ZWxlbWVudERhdGEuY29tcG9uZW50XG4gICAgICAgIGlkPXtlbGVtZW50LmlkfVxuICAgICAgICBrZXk9e2VsZW1lbnQuaWR9XG4gICAgICAgIGNoaWxkTm9kZT17Y2hpbGRyZW59XG4gICAgICAgIHsuLi57IC4uLmVsZW1lbnQsIHNob3dQcmV2aWV3OiB0cnVlLCBzaG93QmFzaWNDb250ZW50OiBmYWxzZSB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLnN0YXRlLmN1cnJlbnRTdGF0ZVswXTtcblxuICAgIC8vIGlmIHlvdSB3YW50IG1vcmUgZmxleGlibGl0eVxuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5jaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oe1xuICAgICAgICBjaGlsZHJlbjogcm9vdC5maWVsZHMubWFwKHRoaXMuX3JlbmRlckVsZW1lbnRJblByZXZpZXdNb2RlKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc3RhbmRhcmQgcmVuZGVyIC0gb25seSA8UHJldmlldyAvPiBhbmQgZG9uZVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctY29udGFpbmVyXCI+XG4gICAgICAgIHtcbiAgICAgICAgICByb290LmZpZWxkcy5tYXAodGhpcy5fcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUpXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuUHJldmlldy5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuY1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJldmlldztcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xuXG5jbGFzcyBUcmFzaCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgLy8gY3JlYXRlIHJlZnJlbmNlIGZvciB0cmFzaFxuICAgIC8vIHRvIGNoZWNrIHdoZXRoZXIgaXMgZHJhZ2dpbmcgb24gdHJhc2ggYm94IG9yIG5vdFxuICAgIHRoaXMudHJhc2hSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byB0b2dnbGUvbWFuYWdlIGNsYXNzKGluc2lkZSlcbiAgICogY2xhc3MgZ2V0cyBhcHBlbmRlZCB0byBjYW52YXNcbiAgICogQHBhcmFtIHRhcmdldCB7RE9NfSAtIGN1cnJlbnQgY2FudmFzIHVwb24gd2hpY2ggdXNlIGlzIGhvdmVyaW5nXG4gICAqIEBwYXJhbSBhY3Rpb24ge1N0cmluZ30gLSBhZGQvcmVtb3ZlIC0gbmFtZSBvZiBhY3Rpb25cbiAgICovXG4gIF9tYW5hZ2VJbnNpZGVDbGFzcyA9ICh7IHRhcmdldCB9LCBhY3Rpb24pID0+IHtcbiAgICBpZiAodGhpcy50cmFzaFJlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcbiAgICAgIHRhcmdldC5jbGFzc0xpc3RbYWN0aW9uXSgnaW5zaWRlJyk7XG4gICAgfVxuICB9XG5cbiAgX29uRHJvcCA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBnZXQgZHJhZ2dlZCBlbGVtZW50XG4gICAgY29uc3QgZWxlbWVudFRvQmVUcmFzaGVkID0gY29yZS5nZXREcmFnZ2VkRWxlbWVudCgpO1xuXG4gICAgLy8gZG9udCBhbGxvdyBlbGVtZW50cyB3aGljaCBkaXJlY3RseSBjb21pbmcgZnJvbSBwYWxldHRlXG4gICAgaWYgKCFlbGVtZW50VG9CZVRyYXNoZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG9uQmVmb3JlVHJhc2gsIG9uQWZ0ZXJUcmFzaCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQgfSA9IGVsZW1lbnRUb0JlVHJhc2hlZDtcbiAgICBjb25zdCBzdGF0dXMgPSBvbkJlZm9yZVRyYXNoKGVsZW1lbnRUb0JlVHJhc2hlZCk7XG5cbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAncmVtb3ZlJyk7XG5cbiAgICAvLyB1c2VyIHRyaWVkIGFuZCBjb25maXJtIHRvIHJlbW92ZSBlbGVtZW50XG4gICAgaWYgKHN0YXR1cyAmJiBjb3JlLmdldEF0dGVtcHRUb1JlbW92ZSgpKSB7XG4gICAgICAvLyByZW1vdmUgZWxlbWVudCBmcm9tIGN1cnJlbnQgY2FudmFzXG4gICAgICByZW1vdmVFbGVtZW50KGVsZW1lbnRUb0JlVHJhc2hlZC5lbGVtZW50SUQsICgpID0+IHtcbiAgICAgICAgLy8gYWNrbm93bGVkZ2VcbiAgICAgICAgb25BZnRlclRyYXNoKCk7XG4gICAgICB9LCB0cnVlKTsgLy8gdHJ1ZSAtIGRpc3BhdGNoIGByZW1vdmVFbGVtZW50YCBldmVudFxuXG4gICAgICAvLyBkb25lIGRyYWdnaW5nLCBmbHVzaCB0aGUgZHJhZ2dlZCBlbGVtZW50XG4gICAgICBjb3JlLnNldERyYWdnZWRFbGVtZW50KG51bGwpO1xuICAgIH1cblxuICAgIC8vIHJlc2V0IGF0dGVtcHQgdG8gcmVtb3ZlXG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdGhlIHRyYXNoXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXG4gIC8vIEBwYXJhbSBlIHtldmVudH1cbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB1c2VyIGlzIGxlYXZpbmcgdGhlIHRyYXNoXG4gICAqIEBwYXJhbSBlIHtldmVudH1cbiAgICovXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0cmFzaFxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XG4gICAqL1xuICBfb25EcmFnRW50ZXIgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcblxuICAgIGlmIChlbGVtZW50VG9CZVRyYXNoZWQpIHtcbiAgICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdhZGQnKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXt0aGlzLnRyYXNoUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJ0cmFzaC1ib3hcIlxuICAgICAgICBvbkRyYWdMZWF2ZT17dGhpcy5fb25EcmFnTGVhdmV9XG4gICAgICAgIG9uRHJhZ0VudGVyPXt0aGlzLl9vbkRyYWdFbnRlcn1cbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5fb25EcmFnT3Zlcn1cbiAgICAgICAgb25Ecm9wPXt0aGlzLl9vbkRyb3B9XG4gICAgICA+XG4gICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB8fCA8c3Bhbj5UcmFzaCBCb3g8L3NwYW4+IH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVHJhc2gucHJvcFR5cGVzID0ge1xuICBvbkJlZm9yZVRyYXNoOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25BZnRlclRyYXNoOiBQcm9wVHlwZXMuZnVuYyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5lbGVtZW50KSxcbiAgICBQcm9wVHlwZXMuZWxlbWVudFxuICBdKSxcbn07XG5cblRyYXNoLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25CZWZvcmVUcmFzaDogKCkgPT4gKHRydWUpLFxuICBvbkFmdGVyVHJhc2g6ICgpID0+ICh0cnVlKVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhc2g7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcblxuY2xhc3MgUGFsZXR0ZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byByZW5kZXIgdGhlIGRyYWdnZWQgZWxlbWVudFxuICAgKiBAcGFyYW0gcHJvcHMge09iamVjdH0gLSBBbiBvYmplY3Qgd2hpY2ggaG9sZCB0aGUgaW5mbyBvZiBkcmFnZ2VkIGVsZW1lbnQvY29tcG9uZW50XG4gICAqIEByZXR1cm5zIEpTWFxuICAgKi9cbiAgX3JlbmRlckxpc3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gY29yZS5nZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzKCkuZmluZChlID0+IGUudHlwZSA9PT0gcHJvcHMudHlwZSk7XG4gICAgcmV0dXJuIGVsZW1lbnQgPyA8ZWxlbWVudC5jb21wb25lbnQgey4uLnByb3BzfSAvPiA6IG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwYWxldHRlRWxlbWVudHMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWxldHRlXCI+XG4gICAgICAgIHtcbiAgICAgICAgICBwYWxldHRlRWxlbWVudHMubWFwKGl0ZW0gPT4gKFxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyTGlzdCh7IC4uLml0ZW0sIGtleTogaXRlbS5pZCwgc2hvd0Jhc2ljQ29udGVudDogdHJ1ZSB9KVxuICAgICAgICAgICkpXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuUGFsZXR0ZS5wcm9wVHlwZXMgPSB7XG4gIHBhbGV0dGVFbGVtZW50czogUHJvcFR5cGVzLmFycmF5T2YoKHByb3BWYWx1ZSkgPT4ge1xuICAgIGxldCBpc0Vycm9yID0gZmFsc2U7XG5cbiAgICAvLyBhbGwgcGFsZXR0ZSBlbGVtZW50cyBzaG91bGQgaGF2ZSB1bmlxdWUgSURcbiAgICBwcm9wVmFsdWUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uaWQpIHtcbiAgICAgICAgaXNFcnJvciA9ICdgaWRgIGlzIHJlcXVpcmVkIGluIGFsbCBwYWxldHRlIGVsZW1lbnQnO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcFZhbHVlLmZpbHRlcihpID0+IGkuaWQgPT09IGl0ZW0uaWQpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaXNFcnJvciA9ICdgaWRgIG9mIHBhbGV0dGUgZWxlbWVudCBzaG91bGQgYmUgdW5pcXVlJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBpc0Vycm9yID8gbmV3IEVycm9yKGlzRXJyb3IpIDogdHJ1ZTtcbiAgfSlcbn07XG5cblBhbGV0dGUuZGVmYXVsdFByb3BzID0ge1xuICBwYWxldHRlRWxlbWVudHM6IFtdXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWxldHRlO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XG5cbmNsYXNzIERyYWdnYWJsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5kcmFnRWxlbVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyB1cGRhdGUgdGhlIHN0YXRlIG9uY2UgcGFyZW50IHN0YXRlIGluaXRpYWxpc2F0aW9uIGlzIGRvbmVcbiAgICBpZiAodGhpcy5wcm9wcy5pbml0RG9uZSAhPT0gbmV4dFByb3BzLmluaXREb25lICYmIG5leHRQcm9wcy5pbml0RG9uZSkge1xuICAgICAgdGhpcy5wcm9wcy51cGRhdGVTdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9kcmFnRW5kID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdhZnRlcicpO1xuXG4gICAgLy8gZG9uZSBkcmFnZ2luZywgcmVzZXQgZHJhZ2dlZCBlbGVtZW50XG4gICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudChudWxsKTtcbiAgfVxuXG4gIF9kcmFnU3RhcnQgPSAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lLFxuICAgICAgZmllbGRzLFxuICAgICAgcGF5bG9hZCxcbiAgICAgIHBhcmVudElELFxuICAgICAgZHJvcHpvbmVJRCxcbiAgICAgIHJlbW92ZUVsZW1lbnQsXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnRcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBpZCxcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lLFxuICAgICAgcGF5bG9hZCxcbiAgICAgIHBhcmVudElELFxuICAgICAgZHJvcHpvbmVJRFxuICAgIH07XG5cbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICBkYXRhLmZpZWxkcyA9IGZpZWxkcztcbiAgICB9XG5cbiAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2NvcHknO1xuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2RhdGEnLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7IC8vIHJlcXVpcmVkLCB3ZSBjYW5uJ3QgcGFzcyBKUyBvYmplY3RcblxuICAgIC8vIGlmIGVsZW1lbnQgaXMgYWxyZWFkeSBwcmVzZW50IGluIHNvbWUgY2FudmFzXG4gICAgLy8gdGhlbiBzZXQgZHJhZ2dlZEVsZW1lbnQsIHNvIHRoYXQgdGhpcyB3aWxsIGhlbHAgdG8gcmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXG4gICAgaWYgKGRyb3B6b25lSUQpIHtcbiAgICAgIGNvcmUuc2V0RHJhZ2dlZEVsZW1lbnQoe1xuICAgICAgICBlbGVtZW50SUQ6IGlkLFxuICAgICAgICBkcm9wem9uZUlELFxuICAgICAgICByZW1vdmVFbGVtZW50LFxuICAgICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byBzZXQgZHJvcCBwb3NpdGlvbi5cbiAgICogZmlyc3QgZmluZSBtaWQgb2YgZWxlbWVudCB1cG9uIHdoaWNoIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciBhbmRcbiAgICogYmFzZWQgb24gdGhhdCBkZWNpZGUgd2hldGhlciB1c2VyIHRyeWluZyB0byBkcm9wIGFuIGVsZW1lbnQgYWJvdmUgb3IgYmVsb3dcbiAgICovXG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcbiAgICBjb25zdCBlbGVtQ29yZCA9IHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmICghdGhpcy5wcm9wcy5zcGFjZUF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmFsbG93SG9yaXpvbnRhbCkge1xuICAgICAgY29uc3QgZHJhZ0VsZW1YID0gZS5jbGllbnRYO1xuICAgICAgaWYgKGRyYWdFbGVtWCA+PSBlbGVtQ29yZC54ICYmIGRyYWdFbGVtWCA8PSBlbGVtQ29yZC54ICsgZWxlbUNvcmQud2lkdGgpIHtcbiAgICAgICAgY29uc3QgbWlkWCA9IGVsZW1Db3JkLnggKyBlbGVtQ29yZC53aWR0aCAvIDI7XG4gICAgICAgIGlmIChkcmFnRWxlbVggPCBtaWRYKSB7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyJyk7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2JlZm9yZScpO1xuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScpO1xuICAgICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdhZnRlcicpO1xuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRyYWdFbGVtWSA9IGUuY2xpZW50WTtcbiAgICAgIGlmIChkcmFnRWxlbVkgPj0gZWxlbUNvcmQueSAmJiBkcmFnRWxlbVkgPD0gZWxlbUNvcmQueSArIGVsZW1Db3JkLmhlaWdodCkge1xuICAgICAgICBjb25zdCBtaWRZID0gZWxlbUNvcmQueSArIGVsZW1Db3JkLmhlaWdodCAvIDI7XG4gICAgICAgIGlmIChkcmFnRWxlbVkgPCBtaWRZKSB7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FmdGVyJyk7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2JlZm9yZScpO1xuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScpO1xuICAgICAgICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QuYWRkKCdhZnRlcicpO1xuICAgICAgICAgIGNvcmUuc2V0RHJvcFBvc3Rpb24odGhpcy5wcm9wcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBfb25EcmFnTGVhdmUgPSAoKSA9PiB7XG4gICAgLy8gcmVtb3ZlIGJlZm9yZS9hZnRlciBjbGFzcyBmcm9tIGRyYWdnZWQgZWxlbWVudFxuICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZWZvcmUnLCAnYWZ0ZXInKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGVsZW1lbnRQcm9wcywgZHJhZ2dhYmxlLCBhbGxvd0hvcml6b250YWwgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGUgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuZHJvcHpvbmVJRCkge1xuICAgICAgLy8gYWRkIHRoaXMgcmVxdWlyZWQgZnVuY3Rpb24gb25seSBpZiBlbGVtZW50IGlzIGRyb3BwZWQgaW4gY2FudmFzXG4gICAgICBlID0ge1xuICAgICAgICBvbkRyYWdPdmVyOiB0aGlzLl9vbkRyYWdPdmVyLFxuICAgICAgICBvbkRyYWdMZWF2ZTogdGhpcy5fb25EcmFnTGVhdmVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgZSA9IHtcbiAgICAgICAgLi4uZSxcbiAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17dGhpcy5kcmFnRWxlbVJlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtgZHJhZy1pdGVtICR7YWxsb3dIb3Jpem9udGFsID8gJ2lubGluZScgOiAnJ31gfVxuICAgICAgICBvbkRyYWdTdGFydD17dGhpcy5fZHJhZ1N0YXJ0fVxuICAgICAgICBvbkRyYWdFbmQ9e3RoaXMuX2RyYWdFbmR9XG4gICAgICAgIHsuLi5lbGVtZW50UHJvcHN9XG4gICAgICAgIHsuLi5lfVxuICAgICAgPlxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkRyYWdnYWJsZS5wcm9wVHlwZXMgPSB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGluaXREb25lOiBQcm9wVHlwZXMuYm9vbCxcbiAgaW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGFsbG93SG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXG4gIGZpZWxkczogUHJvcFR5cGVzLmluc3RhbmNlT2YoQXJyYXkpLFxuICBkcmFnZ2FibGU6IFByb3BUeXBlcy5ib29sLFxuICBzcGFjZUF2YWlsYWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gIHVwZGF0ZVN0YXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgZHJvcHpvbmVJRDogUHJvcFR5cGVzLnN0cmluZyxcbiAgcGFyZW50SUQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHBheWxvYWQ6IFByb3BUeXBlcy5pbnN0YW5jZU9mKE9iamVjdCksXG4gIGVsZW1lbnRQcm9wczogUHJvcFR5cGVzLmluc3RhbmNlT2YoT2JqZWN0KSxcbiAgdHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQpLFxuICAgIFByb3BUeXBlcy5lbGVtZW50XG4gIF0pLmlzUmVxdWlyZWQsXG4gIHJlbW92ZUVsZW1lbnQ6IFByb3BUeXBlcy5mdW5jLFxuICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IFByb3BUeXBlcy5mdW5jXG59O1xuXG5EcmFnZ2FibGUuZGVmYXVsdFByb3BzID0ge1xuICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6ICgpID0+ICh0cnVlKSxcbiAgZWxlbWVudFByb3BzOiBudWxsLFxuICBwYXlsb2FkOiBudWxsLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIHVwZGF0ZVN0YXRlOiAoKSA9PiAodHJ1ZSlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdnYWJsZTtcbiIsImltcG9ydCBjb3JlIGZyb20gJy4vY29yZSc7XG5pbXBvcnQgc3RhdGUgZnJvbSAnLi9zdGF0ZSc7XG5cbi8vIGRvbnQgd2FudCBhbnkgY29uZmxpY3RzIHdpdGggSlMgRXZlbnQgYW5kIEN1c3RvbUV2ZW50IE9iamVjdCBoZW5jZSBrZWVwaW5nIG5hbWUgYXMgUnBtRXZlbnRcbmNsYXNzIFJwbUV2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gc3VwcG9ydGVkIGV2ZW50c1xuICAgIHRoaXMuZXZlbnQgPSB7XG4gICAgICBjaGFuZ2U6IFtdLFxuICAgICAgZmx1c2g6IFtdLFxuICAgICAgcmVtb3ZlRWxlbWVudDogW10sXG4gICAgICB1cGRhdGVFbGVtZW50OiBbXVxuICAgIH07XG4gIH1cblxuICAvLyBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyaWdnZXIgYWxsIGNoYW5nZSBDQlxuICBub3RpZnlTdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcbiAgICB0aGlzLmV2ZW50LmNoYW5nZS5mb3JFYWNoKGUgPT4gZShzdGF0ZS5nZXRTdGF0ZSgpKSk7XG4gIH07XG5cbiAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBmbHVzaCBDQlxuICAvLyBzdGF0ZSBoYXMgYmVlbiByZXNldCB0byBlbXB0eSwgdHJpZ2dlciBmaW5hbCBjaGFuZ2UgYW5kIHRoZW4gZmx1c2ggZXZlbnRcbiAgbm90aWZ5U3RhdGVGbHVzaCA9ICh0cmlnZ2VyQ2hhbmdlKSA9PiB7XG4gICAgaWYgKHRyaWdnZXJDaGFuZ2UpIHtcbiAgICAgIHRoaXMubm90aWZ5U3RhdGVDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcbiAgICB0aGlzLmV2ZW50LmZsdXNoLmZvckVhY2goZSA9PiBlKHRydWUpKTtcbiAgfTtcblxuICAvLyBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyaWdnZXIgYWxsIGVsZW1lbnQgdXBkYXRlIENCXG4gIG5vdGlmeUVsZW1lbnRVcGRhdGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIC8vIHRyaWdnZXIgYWxsIGV2ZW50c1xuICAgIHRoaXMuZXZlbnQudXBkYXRlRWxlbWVudC5mb3JFYWNoKGUgPT4gZShlbGVtZW50KSk7XG4gIH07XG5cbiAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBlbGVtZW50IHJlbW92ZSBDQlxuICBub3RpZnlFbGVtZW50UmVtb3ZlID0gKGVsZW1lbnQpID0+IHtcbiAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcbiAgICB0aGlzLmV2ZW50LnJlbW92ZUVsZW1lbnQuZm9yRWFjaChlID0+IGUoZWxlbWVudCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byBhZGQgZXZlbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyID0gKGV2ZW50TmFtZSwgY2IpID0+IHtcbiAgICBsZXQgcmV0dXJuQ0IgPSBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29yZS5lcnJvcignYGNiYCBwYXJhbSBoYXMgdG8gYmUgZnVuY3Rpb24nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZXZlbnQsIGV2ZW50TmFtZSkpIHtcbiAgICAgIHRoaXMuZXZlbnRbZXZlbnROYW1lXS5wdXNoKGNiKTtcblxuICAgICAgcmV0dXJuQ0IgPSBjYjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29yZS5lcnJvcignTm8gc3VjaCBldmVudCcpO1xuICAgIH1cblxuICAgIHJldHVybiByZXR1cm5DQjtcbiAgfTtcblxuICAvKipcbiAgICogZnVuY3Rpb24gdG8gcmVtb3ZlIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChldmVudE5hbWUsIGNiKSA9PiB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmV2ZW50LCBldmVudE5hbWUpKSB7XG4gICAgICB0aGlzLmV2ZW50W2V2ZW50TmFtZV0gPSB0aGlzLmV2ZW50W2V2ZW50TmFtZV0uZmlsdGVyKGUgPT4gZSAhPT0gY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3JlLmVycm9yKCdObyBzdWNoIGV2ZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBycG1FdmVudCA9IG5ldyBScG1FdmVudCgpO1xuXG5leHBvcnQgZGVmYXVsdCBycG1FdmVudDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCk7XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG5cbmZ1bmN0aW9uIG1ha2VFbXB0eUZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcmc7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuZCBkaXNjYXJkcyBpbnB1dHM7IGl0IGhhcyBubyBzaWRlIGVmZmVjdHMuIFRoaXMgaXNcbiAqIHByaW1hcmlseSB1c2VmdWwgaWRpb21hdGljYWxseSBmb3Igb3ZlcnJpZGFibGUgZnVuY3Rpb24gZW5kcG9pbnRzIHdoaWNoXG4gKiBhbHdheXMgbmVlZCB0byBiZSBjYWxsYWJsZSwgc2luY2UgSlMgbGFja3MgYSBudWxsLWNhbGwgaWRpb20gYWxhIENvY29hLlxuICovXG52YXIgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fTtcblxuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucyA9IG1ha2VFbXB0eUZ1bmN0aW9uO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlID0gbWFrZUVtcHR5RnVuY3Rpb24oZmFsc2UpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWUgPSBtYWtlRW1wdHlGdW5jdGlvbih0cnVlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsID0gbWFrZUVtcHR5RnVuY3Rpb24obnVsbCk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVGhpcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50ID0gZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gYXJnO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eUZ1bmN0aW9uOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBmYWxzZSxcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IERyb3B6b25lIGZyb20gJy4uL0Ryb3B6b25lL0Ryb3B6b25lJztcblxuLy8gZnVuY3Rpb25hbCBjb21wb25lbnQgd2hpY2ggZXh0ZW5kcyBEcm9wem9uZSBidXQgd2l0aCBzb21lIGZpeGVkIHByb3BlcnRpZXMgLSBpZCBhbmQgcGFyZW50SURcbi8vIGJvdGggcHJvcHMgc2V0IHRvIGByb290YCAtIHJlcXVpcmVkIHNpbmNlIGFwcGxpY2F0aW9uIHN0YXRlIGhvbGRzIGByb290YCBhcyBwYXJlbnQgbm9kZVxuLy8gZGVmYXVsdCBpbml0RG9uZSBzZXQgdG8gdHJ1ZVxuY29uc3QgQ2FudmFzID0gcHJvcHMgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tY2FudmFzXCI+XG4gICAgPERyb3B6b25lIHsuLi5wcm9wc30gcGFyZW50SUQ9XCJyb290XCIgaWQ9XCJyb290XCIgaW5pdERvbmUgLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW52YXM7XG4iLCIvLyBpbXBvcnQgYWxsIGNvbXBvbmVudHNcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMnO1xuaW1wb3J0IERyb3B6b25lIGZyb20gJy4vY29tcG9uZW50cy9Ecm9wem9uZS9Ecm9wem9uZSc7XG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gJy4vY29tcG9uZW50cy9EcmFnZ2FibGUvRHJhZ2dhYmxlJztcbmltcG9ydCBQYWxldHRlIGZyb20gJy4vY29tcG9uZW50cy9QYWxldHRlL1BhbGV0dGUnO1xuaW1wb3J0IFRyYXNoIGZyb20gJy4vY29tcG9uZW50cy9UcmFzaC9UcmFzaCc7XG5pbXBvcnQgUHJldmlldyBmcm9tICcuL2NvbXBvbmVudHMvUHJldmlldy9QcmV2aWV3JztcblxuLy8gaW1wb3J0IGFsbCBBUEknc1xuaW1wb3J0IHN0YXRlIGZyb20gJy4vY29yZS9zdGF0ZSc7XG5pbXBvcnQgY29yZSBmcm9tICcuL2NvcmUvY29yZSc7XG5cbi8vIGltcG9ydCBiYXNpYyBzdHlsZVxuaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBhbGwgY29tcG9uZW50c1xuICBDYW52YXMsXG4gIERyb3B6b25lLFxuICBEcmFnZ2FibGUsXG4gIFBhbGV0dGUsXG4gIFRyYXNoLFxuICBQcmV2aWV3LFxuXG4gIC8vIGFsbCBvcGVuIEFQSSdzXG4gIHN0YXRlLFxuICBjb3JlLFxuXG4gIC8vIHNpbmNlIHRoaXMgaXMgcmV1aXJlZCBmdW5jdGlvbiwga2VlcGluZyBzZXByYXRlXG4gIHJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzOiBjb3JlLnJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==